"use strict";(self.webpackChunkassessment=self.webpackChunkassessment||[]).push([[6113],{67449:(e,s,a)=>{a.d(s,{Z:()=>o});var t=a(47313),n=a(39157),i=a(46417);const r=e=>{let{changeCountry:s,country:a,inputCheckbox:r,changeCheckbox:o,ifErrorPayment:l,error:c,user:d,goToPayment:u,cancelRedirect:p,handlerSendSellBasket:h,handlerNextTab:m,handlerShowHideBlocks:g,validateError:x,validateForm:b,validateCheck:j,isValidate:y}=e;const[k,v]=(0,t.useState)(!1);(0,t.useEffect)((()=>{j()}),[]);const N=()=>{v(!0),setTimeout((()=>{v(!1)}),5500),b()&&(window.isMobile?u():m())};return(0,i.jsxs)("div",{className:"personalData",children:[(0,i.jsxs)("h3",{className:"title",onClick:e=>g(e),"data-step":"personalData",children:[(0,i.jsx)("span",{className:"num",children:"2"}),(0,i.jsx)("span",{className:"text",children:"Pers\xf6nliche Daten"}),(0,i.jsx)("span",{className:"arrow",children:(0,i.jsx)("i",{className:"fa fa-angle-down","aria-hidden":"true"})})]}),(0,i.jsxs)("div",{className:"wrapperItemBasket",children:[(0,i.jsxs)("div",{className:"billingForm",children:[(0,i.jsxs)("div",{className:"topPersonalData",children:[!d.isLogin&&(0,i.jsxs)("div",{className:"login-buttons buy-form",children:[(0,i.jsx)("div",{className:"buttons-row",children:window.isMobile&&(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",onChange:o,name:"asGuest",className:"checkbox-login-as-guest",defaultChecked:!0}),(0,i.jsx)("span",{className:"check"}),"Als Gast bestellen - hierbei wird kein Benutzeraccount erstellt"]})}),!window.isMobile&&(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",onChange:o,name:"asGuest",className:"checkbox-login-as-guest",defaultChecked:!0}),(0,i.jsx)("span",{className:"check"}),"Als Gast bestellen - hierbei wird kein Benutzeraccount erstellt"]})]}),(0,i.jsxs)("div",{className:"form-subheading",children:[(0,i.jsx)("img",{loading:"lazy",src:"/images/basket-form1.svg",alt:""}),(0,i.jsx)("h3",{children:"Lieferadresse"})]}),(0,i.jsxs)("div",{className:"wrapLabel",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:x.gender.error?!0===k?"genderArea genderError purple":"genderArea genderError":"genderArea",children:[(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"radio",name:"gender",value:"Herr",onClick:()=>b(),required:!0}),(0,i.jsx)("span",{}),"Herr"]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"radio",name:"gender",value:"Frau",onClick:()=>b(),required:!0}),(0,i.jsx)("span",{}),"Frau"]})]}),(0,i.jsx)("span",{className:"errorText",children:x.gender.msg})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",name:"company",checked:!0===r.company?"true":null,onChange:o}),(0,i.jsx)("span",{className:"check"}),"Firma"]})]}),!d.isLogin&&(0,i.jsx)("span",{className:"loginForSellForm",onClick:function(){p(!0),document.getElementById("op").checked=!0,$(".login-box-wrapper").css({display:"block"})},children:"Sie haben bereits ein Konto? Jetzt einloggen"})]}),(0,i.jsx)("div",{className:r.company?" rowInputs":" rowInputs hide",children:(0,i.jsxs)("div",{className:"input-wrapper",children:[(0,i.jsx)("input",{type:"text",name:"companyName",className:x.companyName.error?!0===k?"error purple":"error":null,placeholder:"Firma",onChange:()=>b(),required:r.company}),(0,i.jsx)("span",{className:"placeholder",children:"Firma"}),(0,i.jsx)("span",{className:"errorText",children:x.companyName.msg})]})}),(0,i.jsx)("div",{className:"rowInputs-wrapper",children:(0,i.jsxs)("div",{className:" rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper adjust-wrapper",children:[(0,i.jsx)("input",{type:"text",name:"firstname",className:x.firstname.error?!0===k?"error purple":"error":null,placeholder:"Vorname",onChange:()=>b(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"Vorname"}),(0,i.jsx)("span",{className:"errorText",children:x.firstname.msg})]}),(0,i.jsxs)("div",{className:"input-wrapper",children:[(0,i.jsx)("input",{type:"text",name:"lastname",className:x.lastname.error?!0===k?"error purple":"error":null,placeholder:"Nachname",onChange:()=>b(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"Nachname"}),(0,i.jsx)("span",{className:"errorText",children:x.lastname.msg})]})]})}),(0,i.jsx)("div",{className:"rowInputs-wrapper",children:(0,i.jsxs)("div",{className:"rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper adjust-wrapper",children:[(0,i.jsx)("input",{type:"email",name:"email",className:c.info||x.email.error?!0===k?"error purple":"error":null,placeholder:"E-Mail",onChange:()=>b(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"E-Mail"}),(0,i.jsx)("span",{className:"errorText",children:c.info?c.info:x.email.error?x.email.msg:""})]}),(0,i.jsxs)("div",{className:"input-wrapper",children:[(0,i.jsx)("input",{type:"tel",name:"phone",className:x.phone.error?!0===k?"error purple":"error":null,placeholder:"Telefon (mobil)",minLength:"10",onChange:()=>b(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"Telefon (mobil)"}),(0,i.jsx)("span",{className:"errorText",children:x.phone.msg})]})]})}),(0,i.jsxs)("div",{className:"rowInputs-wrapper",children:[(0,i.jsxs)("div",{className:"personalDataAddress rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-lg",children:[(0,i.jsx)("input",{type:"text",name:"street",className:x.street.error?!0===k?"error purple":"error":null,id:"route",placeholder:"Strasse",onChange:()=>b(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"Strasse"}),(0,i.jsx)("span",{className:"errorText",children:x.street.msg})]}),(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-sm",children:[(0,i.jsx)("input",{type:"text",name:"number",className:x.number.error?!0===k?"error purple":"error":null,id:"street_number",placeholder:"Nr.",onChange:()=>b(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"Nr."}),(0,i.jsx)("span",{className:"errorText",children:x.number.msg})]})]}),(0,i.jsxs)("div",{className:"personalDataCity rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-sm",children:[(0,i.jsx)("input",{type:"text",name:"zip",className:x.zip.error?!0===k?"error purple":"error":null,placeholder:"PLZ",id:"postal_code",onChange:()=>b(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"PLZ"}),(0,i.jsx)("span",{className:"errorText",children:x.zip.msg})]}),(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-lg",children:[(0,i.jsx)("input",{type:"text",name:"city",className:x.city.error?!0===k?"error purple":"error":null,placeholder:"Stadt",id:"locality",onChange:()=>b(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"Stadt"}),(0,i.jsx)("span",{className:"errorText",children:x.city.msg})]})]})]}),(0,i.jsxs)("div",{className:"select",children:[!a.countriesList.some((e=>e.value===a.currentCountry.inputCountry.toLowerCase()))&&(0,i.jsx)("input",{className:"requiredSelect",type:"text",required:!0}),(0,i.jsx)(n.ZP,{placeholder:"Land",value:a.currentCountry.inputCountry.toLowerCase(),name:"inputCountry",clearable:!1,options:a.countriesList,searchable:!1,required:!0,onChange:e=>s(e,"inputCountry")}),(0,i.jsx)("span",{className:"placeholder",children:"Ausw\xe4hlen"})]}),!d.isLogin&&!r.asGuest&&(0,i.jsxs)("div",{className:"inputFullWidth rowInputs",children:[(0,i.jsx)("input",{type:"password",name:"password",placeholder:"Password (min. 8 Zeichen + min. 1 Nr. )",className:c.password?"error":null,onChange:function(e){let{value:s}=e.target;/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,32}$/.test(s.trim())?$(e.target).parents(".inputFullWidth").find(".statusBarPassword").css({background:"#00cb94"}):$(e.target).parents(".inputFullWidth").find(".statusBarPassword").css({background:"#ff0000"})},required:!l}),(0,i.jsx)("span",{className:"errorText",children:c.password}),(0,i.jsx)("div",{className:"statusBarPassword"})]}),(0,i.jsxs)("label",{className:"shippingAddressCheck",children:[(0,i.jsx)("input",{type:"checkbox",name:"shippingAddress",checked:!0===r.shippingAddress,onChange:o}),(0,i.jsx)("span",{})," Diese Lieferadresse auch als Rechnungsadresse benutzen"]})]}),(0,i.jsxs)("div",{className:!0===r.shippingAddress?"hide shippingForm":"shippingForm",children:[(0,i.jsxs)("div",{className:"form-subheading",children:[(0,i.jsx)("img",{loading:"lazy",src:"/images/basket-form2.svg",alt:""}),(0,i.jsx)("h3",{children:"Rechnungsadresse"})]}),(0,i.jsx)("div",{className:"topPersonalData",children:(0,i.jsxs)("div",{className:"wrapLabel",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:x.customer_gender.error?!0===k?"genderArea genderError purple":"genderArea genderError":"genderArea",children:[(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"radio",name:"customer_gender",value:"Herr",onClick:()=>b(),required:!r.shippingAddress}),(0,i.jsx)("span",{}),"Herr"]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"radio",name:"customer_gender",value:"Frau",onClick:()=>b(),required:!r.shippingAddress}),(0,i.jsx)("span",{}),"Frau"]})]}),(0,i.jsx)("span",{className:"errorText",children:x.customer_gender.msg})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",name:"customerCompanyName",value:"1",checked:!0===r.customerCompanyName?"true":null,onClick:o}),(0,i.jsx)("span",{className:"check"}),"Firma"]})]})}),(0,i.jsx)("div",{className:r.customerCompanyName?"rowInputs":"rowInputs hide",children:(0,i.jsxs)("div",{className:"input-wrapper",children:[(0,i.jsx)("input",{type:"text",name:"customer_companyName",className:x.customer_companyName.error?!0===k?"error purple":"error":null,placeholder:"Firma",onChange:()=>b(),required:r.customerCompanyName}),(0,i.jsx)("span",{className:"placeholder",children:"Firma"}),(0,i.jsx)("span",{className:"errorText",children:x.customer_companyName.msg})]})}),(0,i.jsx)("div",{className:"rowInputs-wrapper",children:(0,i.jsxs)("div",{className:"rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper adjust-wrapper",children:[(0,i.jsx)("input",{type:"text",name:"customer_firstname",className:x.customer_firstname.error?!0===k?"error purple":"error":null,placeholder:"Vorname",onChange:()=>b(),required:!r.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"Vorname"}),(0,i.jsx)("span",{className:"errorText",children:x.customer_firstname.msg})]}),(0,i.jsxs)("div",{className:"input-wrapper",children:[(0,i.jsx)("input",{type:"text",name:"customer_lastname",className:x.customer_lastname.error?!0===k?"error purple":"error":null,placeholder:"Nachname",onChange:()=>b(),required:!r.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"Nachname"}),(0,i.jsx)("span",{className:"errorText",children:x.customer_lastname.msg})]})]})}),(0,i.jsx)("div",{className:"rowInputs-wrapper",children:(0,i.jsxs)("div",{className:"rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper adjust-wrapper",children:[(0,i.jsx)("input",{type:"email",name:"customer_email",className:c.info||x.customer_email.error?!0===k?"error purple":"error":null,placeholder:"E-Mail",onChange:()=>b(),required:!r.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"E-Mail"}),(0,i.jsx)("span",{className:"errorText",children:c.info?c.info:""!==x.customer_email.msg?x.customer_email.msg:""})]}),(0,i.jsxs)("div",{className:"input-wrapper",children:[(0,i.jsx)("input",{type:"tel",name:"customer_phone",className:x.customer_phone.error?!0===k?"error purple":"error":null,placeholder:"Telefon (mobil)",onChange:()=>b(),required:!r.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"Telefon (mobil)"}),(0,i.jsx)("span",{className:"errorText",children:x.customer_phone.msg})]})]})}),(0,i.jsxs)("div",{className:"rowInputs-wrapper",children:[(0,i.jsxs)("div",{className:"personalDataAddress rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-lg",children:[(0,i.jsx)("input",{type:"text",name:"customer_street",id:"customer_route",className:x.customer_street.error?!0===k?"error purple":"error":null,placeholder:"Strasse",onChange:()=>b(),required:!r.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"Strasse"}),(0,i.jsx)("span",{className:"errorText",children:x.customer_street.msg})]}),(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-sm",children:[(0,i.jsx)("input",{type:"text",name:"customer_number",id:"customer_street_number",className:x.customer_number.error?!0===k?"error purple":"error":null,placeholder:"Nr.",onChange:()=>b(),required:!r.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"Nr."}),(0,i.jsx)("span",{className:"errorText",children:x.customer_number.msg})]})]}),(0,i.jsxs)("div",{className:"personalDataCity rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-sm",children:[(0,i.jsx)("input",{type:"text",name:"customer_zip",className:x.customer_zip.error?!0===k?"error purple":"error":null,placeholder:"PLZ",id:"customer_postal_code",onChange:()=>b(),required:!r.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"PLZ"}),(0,i.jsx)("span",{className:"errorText",children:x.customer_zip.msg})]}),(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-lg",children:[(0,i.jsx)("input",{type:"text",name:"customer_city",className:x.customer_city.error?!0===k?"error purple":"error":null,placeholder:"Stadt",id:"customer_locality",onChange:()=>b(),required:!r.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"Stadt"}),(0,i.jsx)("span",{className:"errorText",children:x.customer_city.msg})]})]})]}),(0,i.jsxs)("div",{className:"select",children:[!a.countriesList.some((e=>e.value===a.currentCountry.customer_inputCountry.toLowerCase()))&&!0!==r.shippingAddress&&(0,i.jsx)("input",{className:"requiredSelect",type:"text",required:!0}),(0,i.jsx)(n.ZP,{placeholder:"Ausw\xe4hlen...",value:a.currentCountry.customer_inputCountry.toLowerCase(),name:"customer_inputCountry",clearable:!1,options:a.countriesList,searchable:!1,onChange:e=>s(e,"customer_inputCountry")}),(0,i.jsx)("span",{className:"placeholder",children:"Ausw\xe4hlen"})]})]}),(0,i.jsxs)("div",{className:"basketMobileBottom",children:[(0,i.jsxs)("div",{className:"text-right button-row",children:[!h&&(0,i.jsxs)("button",{type:"button",className:y?"basketSubmit btn button-pulse":"basketSubmit btn",onClick:()=>N(),children:["Weiter",(0,i.jsx)("span",{children:(0,i.jsx)("img",{loading:"lazy",src:"images/arrow.svg",alt:""})})]}),h&&(0,i.jsxs)("button",{type:"submit",className:y?"basketSubmit btn button-pulse":"basketSubmit btn",onSubmit:h,children:["Absenden",(0,i.jsx)("span",{children:(0,i.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})]}),window.isMobile&&(0,i.jsx)("div",{className:"toPaymentWrap",children:(0,i.jsxs)("button",{className:y?"btn toPayment button-pulse":"btn toPayment",type:"button",onClick:()=>N(),children:["Weiter",(0,i.jsx)("span",{children:(0,i.jsx)("img",{loading:"lazy",src:"images/arrow.svg",alt:""})})]})})]})]})]})};r.defaultProps={};const o=r},16113:(e,s,a)=>{a.r(s),a.d(s,{BasketVerkaufen:()=>z,default:()=>q});var t=a(47313),n=a(72231),i=a(31881),r=a.n(i),o=a(12279),l=a.n(o),c=a(91066),d=a(67449),u=a(46417);const p=e=>{let{basketData:s,removeFromBasket:a,couponError:t,changeCoupon:n,triggerChangeCoupon:i,goToCheckoutMobile:r}=e,o=0;return(0,u.jsxs)("div",{className:"col-md-5 productWrap",children:[(0,u.jsx)("h3",{className:"title",children:"Verkaufs\xfcbersicht"}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("table",{className:"verkaufenBasket",children:(0,u.jsx)("tbody",{children:s.map((function(e,s){if(999==e.productTypeId)return o+=+e.price,(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[e.note," (",e.shortcode,")"]}),(0,u.jsx)("td",{children:(0,u.jsxs)("h4",{className:"price",children:[Math.round(100*+e.price)/100," ",window.currencyValue]})}),(0,u.jsx)("td",{children:(0,u.jsx)("span",{onClick:()=>a(e.productTypeId,e.shortcode),className:"removeFromBasket"})})]},s);{function t(){let s=[];for(let a in e)if("image"!==a&&"Device"!==a&&"Defects"!==a&&"Submodel"!==a&&"Model"!==a&&"Brand"!==a&&"id"!==a&&"comment"!==a){let t="Condition"===a?"Allgemeiner Zustand":a;s.push((0,u.jsxs)("li",{children:[(0,u.jsxs)("strong",{children:[t,":"]})," ",e[a].map(((s,t)=>(0,u.jsxs)("span",{children:[s.name,t!==e[a].length-1?", ":null]},t)))]},a))}return s}return e.id=s,o+=m(e).price,(0,u.jsxs)("tr",{className:"itemBasketDataVerkaufen",children:[(0,u.jsxs)("td",{children:[(0,u.jsxs)("h4",{children:[e.Model[0].name," ",e.Model[0].nameExt?" (".concat(e.Model[0].nameExt,")"):null]}),(0,u.jsxs)("div",{className:"wrapCriterias",children:[(0,u.jsx)("img",{loading:"lazy",src:e.image}),(0,u.jsxs)("ul",{children:[" ",t()," "]})]})]}),(0,u.jsxs)("td",{children:[(0,u.jsxs)("p",{className:"price discount-price",children:[m(e).price," ",window.currencyValue]}),m(e).oldPrice>0&&(0,u.jsxs)("p",{className:"price old-price",children:[m(e).oldPrice," ",window.currencyValue]})]}),(0,u.jsx)("td",{children:(0,u.jsx)("span",{onClick:()=>a(null,e.id),className:"removeFromBasket"})})]},s)}}))})}),o>0&&(0,u.jsxs)("div",{className:"total clearfix",children:[(0,u.jsx)("p",{className:"col-xs-6 title",children:"Total gesch\xe4tzter Preis:"}),(0,u.jsxs)("p",{className:"col-xs-6 priceTotal",children:[o," ",window.currencyValue]})]})]}),(0,u.jsxs)("div",{className:"commentField",children:[(0,u.jsx)("img",{loading:"lazy",src:"/images/design/medical.svg"}),(0,u.jsx)("label",{children:"Notizen"}),(0,u.jsx)("textarea",{name:"comment",rows:"2",placeholder:"Notiz / Spezielle Anmerkungen",style:{marginTop:"13px"}})]}),(0,u.jsxs)("div",{className:"couponField",children:[(0,u.jsx)("img",{loading:"lazy",src:"/images/design/gift.svg"}),(0,u.jsx)("label",{children:"Gutschein-Code eingeben"}),(0,u.jsx)("input",{type:"text",style:{display:"block",padding:"13px 113px 13px 16px",marginTop:"13px"},className:t?"errorInput":"",name:"coupon",id:"input_coupon",placeholder:"Code eingeben"}),(0,u.jsx)("button",{type:"button",className:"couponButton btn",onClick:i,children:"einl\xf6sen"}),t&&(0,u.jsx)("span",{className:"errorText",children:t})]})]}),window.isMobile&&(0,u.jsx)("div",{className:"btn basketToCheckout mobileFixedBtn",onClick:r,children:"Zur Kasse"})]})};p.defaultProps={};const h=p;function m(e){let s=+e.Model[0].minPrice,a=0,t=0;for(let n in e)"Defects"===n?e[n].forEach((e=>a+=+e.price)):"Brand"!==n&&"Submodel"!==n&&"image"!==n&&"Device"!==n&&"Condition"!==n&&"id"!==n&&"comment"!==n&&("Model"===n?e[n].forEach((e=>{a+=+e.price})):e[n].forEach((s=>{let t=+e.Model[0].price,n=+s.valuePrice.replace(/[^0-9.]/g,""),i=0,r=s.valuePrice.includes("%"),o=s.valuePrice.includes("-");r?(i=5*Math.ceil(t*(n/100)/5),o?a-=i:a+=i):o?a-=n:a+=n})));return a<s&&(a=s),t=a,e.Model[0].discountPrice>0&&(a+=+e.Model[0].discountPrice),t===a&&(t=0),t=5*Math.round(t/5),a=5*Math.round(a/5),{price:a,oldPrice:t}}var g=a(23320),x=a(78081),b=a(72905),j=a(73815),y=a(76233);class k extends t.Component{constructor(e){super(e),this.state={},this.changeCheckbox=this.changeCheckbox.bind(this),this.copyToClipboard=this.copyToClipboard.bind(this)}changeCheckbox(e){e.target.checked?($(".wrapOverlay").css({display:"block"}),$(".sellPage #myModalResult.modal").css({overflow:"visible"}),$(".sellPage .buttonsForMobile").css({opacity:.73}),$(".wrapLinks").css({display:"flex"})):($(".wrapOverlay").css({display:"none"}),$(".sellPage #myModalResult.modal").css({overflow:"scroll"}),$(".sellPage .buttonsForMobile").css({opacity:1}),$(".wrapLinks").hide())}copyToClipboard(e){e.preventDefault(),Clipboard.copy(document.querySelector(".hiddenInputWithLink").value),$("#linkBtn").click()}render(){let e=window.location.href,s="Hallo,\nhier der Link von remarket um dein Ger\xe4t zu verkaufen\n".concat(e),a="whatsapp://send?text=Hallo,\nhier der Link von remarket um dein Ger\xe4t zu verkaufen\n".concat(e);return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"wrapOverlay"}),(0,u.jsxs)("div",{className:"sendLinkMobile",children:[(0,u.jsx)("input",{type:"checkbox",id:"linkBtn",onChange:this.changeCheckbox}),(0,u.jsx)("label",{htmlFor:"linkBtn"}),(0,u.jsxs)("div",{className:"wrapLinks",children:[(0,u.jsx)("span",{className:"title",children:"Link teilen"}),(0,u.jsx)("div",{className:"itemBtn",children:(0,u.jsx)("a",{href:"mailto:?body="+encodeURI(s),onClick:()=>$("#linkBtn").click(),children:(0,u.jsx)("img",{loading:"lazy",src:"/images/design/mail-links.png",alt:""})})}),(0,u.jsx)("div",{className:"itemBtn",children:(0,u.jsx)("a",{href:encodeURI(a),onClick:()=>$("#linkBtn").click(),children:(0,u.jsx)("img",{loading:"lazy",src:"/images/design/whatsapp-links.png",alt:""})})}),(0,u.jsxs)("div",{className:"itemBtn",children:[(0,u.jsx)("a",{href:"",onClick:this.copyToClipboard,children:(0,u.jsx)("img",{loading:"lazy",src:"/images/design/copy-to-clipboard.png",alt:""})}),(0,u.jsx)("textarea",{className:"hiddenInputWithLink",defaultValue:e})]})]})]})]})}}k.defaultProps={};const v=k;window.Clipboard=function(e,s,a){var t;function n(){var n,i;a.userAgent.match(/ipad|iphone/i)?((n=s.createRange()).selectNodeContents(t),(i=e.getSelection()).removeAllRanges(),i.addRange(n),t.setSelectionRange(0,999999)):t.select()}return{copy:function(e){!function(e){(t=s.createElement("textArea")).value=e,s.body.appendChild(t)}(e),n(),s.execCommand("copy"),s.body.removeChild(t)}}}(window,document,navigator);var N=a(44251),w=a.n(N);class f extends t.Component{constructor(e){super(e),this.state={userData:{number:""},successMsg:""},this.clickCheckbox=this.clickCheckbox.bind(this),this._setDataFields=this._setDataFields.bind(this),this.changePhoneNumber=this.changePhoneNumber.bind(this),this.sendForm=this.sendForm.bind(this)}componentWillReceiveProps(e){e.user.data!==this.props.user.data&&e.user.data&&this._setDataFields(e.user.data),e.user.isLogin!==this.props.user.isLogin&&!1===e.user.isLogin&&[...document.querySelectorAll('input[name="email"], input[name="number"]')].forEach((e=>e.value=""))}componentDidMount(){[...document.querySelectorAll(".textarea")].forEach((e=>e.setAttribute("contentEditable",!0))),this.props.user.isLogin&&this.props.user.data&&this._setDataFields(this.props.user.data)}changePhoneNumber(e){this.setState({userData:{...this.state.userData,number:e}})}_setDataFields(e){let s=e.systemAddress.email,a=e.systemAddress.phone,t=document.forms["linkByEmail-"+this.props.id];0===a.indexOf("0041")&&(a="+"+a.slice(2)),t.emailFrom&&(t.emailFrom.value=s),this.setState({userData:{...this.state.userData,number:a}})}sendForm(e){e.preventDefault();let s,a,t=null,{name:n}=e.target,i=0;n.includes("linkByEmail")?(s=new FormData(document.forms["linkByEmail-"+this.props.id]),a="email",t=$(".textarea.email").html(),i=$(e.target).closest(".itemBtn").position().left):(s=new FormData(document.forms["linkBySms-"+this.props.id]),a="phone",t=document.querySelector(".textarea.phone").innerText,i=$(e.target).closest(".itemBtn").position().left),s.append("type",a),s.append("message",t),document.getElementById("spinner-box-load").style.display="block",axios.post("/api/shareLink",s).then((e=>{document.getElementById("spinner-box-load").style.display="none",[...document.querySelectorAll('input[name="linkBtn"]')].forEach((e=>e.checked=!1)),[...document.querySelectorAll(".itemBtn label")].forEach((e=>e.classList.remove("active"))),n.includes("linkByEmail")?(this.setState({successMsg:"Die E-Mail wurde erfolgreich versendet"}),$(".successMessage").css({left:i+"px"}).fadeIn(),setTimeout((()=>$(".successMessage").fadeOut()),2e3)):(this.setState({successMsg:"Die SMS wurde erfolgreich versendet"}),$(".successMessage").css({left:i+"px"}).fadeIn(),setTimeout((()=>$(".successMessage").fadeOut()),2e3))}))}clickCheckbox(e){if([...document.querySelectorAll(".itemBtn label")].forEach((e=>e.classList.remove("active"))),e.target.checked?([...document.querySelectorAll('input[name="linkBtn"]')].forEach((e=>e.checked=!1)),e.target.checked=!0,e.target.parentNode.querySelector("label").classList.add("active")):e.target.checked=!1,e.target.id.includes("clipboard")){document.querySelector(".hiddenInputWithLink").select(),document.execCommand("copy"),e.target.checked=!1,e.target.parentNode.querySelector("label").classList.remove("active"),this.setState({successMsg:"Der Link wurde erfolgreich in die Zwischenablage kopiert"}),$(".successMessage").css({left:$(e.target).closest(".itemBtn").position().left+"px"}).fadeIn(),setTimeout((()=>$(".successMessage").fadeOut()),2e3)}}render(){let e=window.location.href,s="remarket.ch"===window.domainName.name?"ch":"de",{id:a}=this.props;return(0,u.jsxs)("div",{className:"sendLinksWrap",children:[(0,u.jsxs)("div",{className:"successMessage",children:[(0,u.jsx)("img",{loading:"lazy",src:"/images/design/ok-links.svg"})," ",(0,u.jsx)("span",{className:"copy",children:this.state.successMsg})]}),(0,u.jsx)("span",{className:"title",children:"Link teilen"}),(0,u.jsxs)("span",{className:"wrapLinks",children:[(0,u.jsxs)("span",{className:"itemBtn",children:[(0,u.jsx)("label",{htmlFor:"email-".concat(a),children:(0,u.jsx)("img",{loading:"lazy",src:"/images/design/mail-links.png",alt:""})}),(0,u.jsx)("input",{type:"checkbox",id:"email-".concat(a),name:"linkBtn",onChange:this.clickCheckbox}),(0,u.jsx)("div",{className:"form",children:(0,u.jsxs)("form",{name:"linkByEmail-".concat(a),onSubmit:this.sendForm,children:[(0,u.jsxs)("p",{className:"header",children:["Link mit Freunden teilen",(0,u.jsx)("span",{children:"via E-mail"})]}),(0,u.jsx)("input",{type:"email",name:"emailFrom",required:!0,placeholder:"Ihre E-Mail"}),(0,u.jsx)("input",{type:"email",name:"emailTo",required:!0,placeholder:"E-Mail Ihres Freundes"}),(0,u.jsxs)("div",{className:"textarea email",children:["Hallo,",(0,u.jsx)("br",{}),"hier der Link von remarket um dein Ger\xe4t zu verkaufen:",(0,u.jsx)("br",{}),(0,u.jsx)("a",{contentEditable:!1,href:e,children:e})]}),(0,u.jsx)("button",{className:"btn",onSubmit:this.sendForm,children:"Senden"})]})})]}),(0,u.jsxs)("span",{className:"itemBtn",children:[(0,u.jsx)("label",{htmlFor:"sms-".concat(a),children:(0,u.jsx)("img",{loading:"lazy",src:"/images/design/sms-link.png",alt:""})}),(0,u.jsx)("input",{type:"checkbox",id:"sms-".concat(a),name:"linkBtn",onChange:this.clickCheckbox}),(0,u.jsx)("div",{className:"form",children:(0,u.jsxs)("form",{name:"linkBySms-".concat(a),onSubmit:this.sendForm,children:[(0,u.jsxs)("p",{className:"header",children:["Link mit Freunden teilen",(0,u.jsx)("span",{children:"via SMS"})]}),(0,u.jsx)("span",{className:"inputTitle",children:"Absender Mobiltelefonnummer"}),(0,u.jsx)(w(),{inputProps:{name:"phoneFrom",required:!0},pattern:"(\\+?\\d){11,}",value:this.state.userData.number,onChange:this.changePhoneNumber,defaultCountry:s,autoFormat:!1,placeholder:"Ihre Mobiltelefonnummer",flagsImagePath:"/images/design/flags.png"}),(0,u.jsx)("span",{className:"inputTitle",children:"Empf\xe4nger Mobiltelefonnummer"}),(0,u.jsx)(w(),{inputProps:{name:"phoneTo",required:!0},pattern:"(\\+?\\d){11,}",defaultCountry:s,autoFormat:!1,placeholder:"Mobiltelefonnummer Ihres Freundes",flagsImagePath:"/images/design/flags.png"}),(0,u.jsxs)("div",{className:"textarea phone",children:["Hallo,",(0,u.jsx)("br",{}),"hier der Link von remarket um dein Ger\xe4t zu verkaufen ",(0,u.jsx)("br",{}),(0,u.jsx)("a",{contentEditable:!1,href:e,children:e})]}),(0,u.jsx)("button",{className:"btn",onSubmit:()=>this.sendForm,children:"Senden"})]})})]}),(0,u.jsxs)("span",{className:"itemBtn",children:[(0,u.jsx)("label",{htmlFor:"clipboard-".concat(a),children:(0,u.jsx)("img",{loading:"lazy",src:"/images/design/copy-to-clipboard.png",alt:""})}),(0,u.jsx)("input",{id:"clipboard-".concat(a),type:"checkbox",name:"linkBtn",onChange:this.clickCheckbox}),(0,u.jsxs)("div",{className:"form copyForm",children:[(0,u.jsx)("textarea",{defaultValue:e,className:"hiddenInputWithLink"}),(0,u.jsx)("img",{loading:"lazy",src:"/images/design/ok-links.svg"})," ",(0,u.jsx)("span",{className:"copy",children:"Link wurde in Zwischenablage kopiert"})]})]})]})]})}}f.defaultProps={};const C=f;var S=a(39157);class P extends t.Component{constructor(e){super(e),this.state={activeNavItem:"now",showLoginForm:!1,desiredPayoutTypeValue:null},this.loginUser=this.loginUser.bind(this),this.clickNavItem=this.clickNavItem.bind(this),this.changePassword=this.changePassword.bind(this),this.showLoginForm=this.showLoginForm.bind(this),this.showSocialRegisterForm=this.showSocialRegisterForm.bind(this),this.changeDesiredPayoutType=this.changeDesiredPayoutType.bind(this),this.handlerBlurInputUIDNumber=this.handlerBlurInputUIDNumber.bind(this),this.calculateTotalPrice=this.calculateTotalPrice.bind(this)}componentDidMount(){this.setState({country:{...this.state.country,countriesList:[{value:"ch",label:"Schweiz"},{value:"li",label:"Liechtenstein"}]}}),window.isGoogleConnection&&c.o9.call(this,2)}_setFormFields(e){let s=document.forms.editUserProfileForm,{country:a,inputCheckbox:t}=this.state;for(let n in e)switch(n){case"company":e[n]?(t.systemCompany=!0,s[n].value=e[n]):(t.systemCompany=!1,s[n].value=e[n]);break;case"LieferFirmenname":e[n]?(t.shippingCompany=!0,s[n].value=e[n]):(t.shippingCompany=!1,s[n].value=e[n]);break;case"RechnungFirmenname":e[n]?(t.customerCompany=!0,s[n].value=e[n]):(t.customerCompany=!1,s[n].value=e[n]);break;case"Sprache":s[n]&&(s[n].value=e[n]),a.currentCountry.system_inputCountry=e[n];break;case"LieferLand":s[n]&&(s[n].value=e[n]),a.currentCountry.inputCountry=e[n];break;case"RechnungLand":s[n]&&(s[n].value=e[n]),a.currentCountry.customer_inputCountry=e[n];break;default:s[n]&&(s[n].value=e[n])}this.setState({inputCheckbox:t,country:a})}componentWillReceiveProps(e){e.inputCheckbox.asGuest&&this.setState({activeNavItem:"now",desiredPayoutTypeValue:null})}changeDesiredPayoutType(e){let{value:s}=e.target;this.setState({desiredPayoutTypeValue:s})}clickNavItem(e){if(!this.props.inputCheckbox.asGuest){let s=e.currentTarget.getAttribute("data-type");this.setState({activeNavItem:s,desiredPayoutTypeValue:null})}}handlerBlurInputUIDNumber(e){e.target.value||$(".uid-number-wrap").removeClass("show-input")}changePassword(e){let{value:s}=e.target;/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,32}$/.test(s.trim())?$(e.target).parents(".inputFullWidth").find(".statusBarPassword").css({background:"#00cb94"}):$(e.target).parents(".inputFullWidth").find(".statusBarPassword").css({background:"#ff0000"})}showLoginForm(){this.props.cancelRedirect(!0),document.getElementById("op").checked=!0,$(".login-box-wrapper").css({display:"block"})}showSocialRegisterForm(e){this.props.cancelRedirect(!0),"facebook"===e?FB.login((s=>{let a={token:s.authResponse.accessToken,provider:e};r().post("/api/socialAuth",a).then((e=>{window.localStorage.setItem("token",e.data.token),window.axios.defaults.headers.common["Authorization-Token"]=e.data.token,this._loadPersonalData(e.data.token)})).catch((e=>{404===e.response.status&&(document.getElementById("op").checked=!0,this.setState({errorLogin:{...this.state.errorLogin,socialNoEmail:e.response.data},errorRegistration:{...this.state.errorRegistration,socialNoEmail:e.response.data}}))}))}),{scope:"email"}):window.gapiAuth2.signIn().then((e=>{let s={token:e.Zi.access_token,provider:"google"};r().post("/api/socialAuth",s).then((e=>{window.localStorage.setItem("token",e.data.token),window.axios.defaults.headers.common["Authorization-Token"]=e.data.token,this._loadPersonalData(e.data.token)})).catch((e=>{e.response.status}))}))}calculateTotalPrice(){let e=this.props.price,s=0;return this.props.basketDataVerkaufen.forEach((a=>{999==a.productTypeId?(e+=+a.price,s+=+a.price):(e+=m(a).price,s+=m(a).price)})),{totalPrice:e,basketPrice:s}}loginFacebook(e){e.preventDefault(),document.getElementById("op").checked=!1,this.setState({errorLogin:{...this.state.errorLogin,socialNoEmail:""},errorRegistration:{...this.state.errorRegistration,socialNoEmail:""}}),FB.login((e=>{let s={token:e.authResponse.accessToken,provider:"facebook"};document.getElementById("spinner-box-load").style.display="block",r().post("/api/socialAuth",s).then((e=>{window.localStorage.setItem("token",e.data.token),window.axios.defaults.headers.common["Authorization-Token"]=e.data.token,this._loadPersonalData(e.data.token)})).catch((e=>{404===e.response.status&&(document.getElementById("spinner-box-load").style.display="none",document.getElementById("op").checked=!0,this.setState({errorLogin:{...this.state.errorLogin,socialNoEmail:e.response.data},errorRegistration:{...this.state.errorRegistration,socialNoEmail:e.response.data}}))}))}),{scope:"email"})}loginGoogle(e){e.preventDefault(),this.setState({errorLogin:{...this.state.errorLogin,socialNoEmail:""},errorRegistration:{...this.state.errorRegistration,socialNoEmail:""}}),document.getElementById("op").checked=!1,window.gapiAuth2.signIn().then((e=>{let s={token:e.Zi.access_token,provider:"google"};document.getElementById("spinner-box-load").style.display="block",r().post("/api/socialAuth",s).then((e=>{window.localStorage.setItem("token",e.data.token),window.axios.defaults.headers.common["Authorization-Token"]=e.data.token,this._loadPersonalData(e.data.token)})).catch((e=>{404===e.response.status&&(document.getElementById("spinner-box-load").style.display="none",document.getElementById("op").checked=!0,this.setState({errorLogin:{...this.state.errorLogin,socialNoEmail:e.response.data},errorRegistration:{...this.state.errorRegistration,socialNoEmail:e.response.data}}))}))}))}closeLoginForm(){[...document.querySelectorAll(".simform input:not([type=submit])")].forEach((e=>e.value="")),this.setState({errorRegistration:{email:"",phone:"",password:"",password_confirmation:"",socialNoEmail:""},errorLogin:{infoMsg:"",login:"",password:"",socialNoEmail:"",resendActivationLink:"",successResend:""},showInputCode:!1,spinner:null}),this.props.userActions.setRedirectTo(!1),this.props.userActions.cancelRedirectToMyAccount(!1),$(".login-box-wrapper").css({display:"none"})}loginUser(e){let s=new FormData(document.forms.loginFormMobile);document.getElementById("spinner-box-load").style.display="block",r().post("/api/login",s).then((e=>{if("false"===e.data.status){document.getElementById("spinner-box-load").style.display="none";let{errorLogin:s}=this.state;s[e.data.field]=e.data.message,e.data.resendActivationLink&&(s.resendActivationLink=e.data.resendActivationLink),this.setState({errorLogin:s})}else window.localStorage.setItem("token",e.data.token),window.axios.defaults.headers.common["Authorization-Token"]=e.data.token,this._loadPersonalData(e.data.token)})).catch((e=>{document.getElementById("spinner-box-load").style.display="none";let s,a,t=e.response.data.errors;t&&(t.login&&(s=t.login[0]),t.password&&(a=t.password[0])),this.setState({errorLogin:{...this.state.errorLogin,login:s,password:a},spinner:null})}))}render(){let{changeCountry:e,country:s,inputCheckbox:a,changeCheckbox:t,ifErrorPayment:n,error:i,user:r,goToDelivery:o,price:l,uidNumberField:c,handlerChangeInput:d}=this.props,{activeNavItem:p,desiredPayoutTypeValue:h}=this.state,m=window.domainName.name.split(".")[window.domainName.name.split(".").length-1],g=a.company?c?"rowInputs uid-number-wrap show-input":"rowInputs uid-number-wrap":"rowInputs uid-number-wrap hide",x=this.calculateTotalPrice().totalPrice,b=this.calculateTotalPrice().basketPrice;return(0,u.jsxs)("div",{className:"personalData",children:[(0,u.jsxs)("h3",{className:"title",children:[(0,u.jsx)("span",{className:"num",children:"1"}),(0,u.jsx)("span",{className:"text",children:"Pers\xf6nliche Daten"}),(0,u.jsx)("span",{className:"arrow",children:(0,u.jsx)("i",{className:"fa fa-angle-up","aria-hidden":"true"})})]}),this.state.showLoginForm&&window.isMobile&&(0,u.jsxs)("form",{name:"loginFormMobile",children:[(0,u.jsx)("p",{children:(0,u.jsx)("input",{type:"text",placeholder:"password"})}),(0,u.jsx)("p",{children:(0,u.jsx)("input",{type:"text",placeholder:"e-mail"})}),(0,u.jsxs)("button",{type:"button",className:"btn right",onClick:this.showLoginForm,children:["Einloggen",(0,u.jsx)("span",{children:(0,u.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})]}),!r.isLogin&&(0,u.jsxs)("div",{className:"login-buttons sell-form",children:[(0,u.jsxs)("div",{className:"",children:[!window.isMobile&&(0,u.jsxs)("button",{type:"button",className:"btn",onClick:this.showLoginForm,children:["Einloggen",(0,u.jsx)("span",{children:(0,u.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]}),window.isMobile&&(0,u.jsx)("div",{className:"topPersonalData",children:(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"checkbox",onChange:t,name:"asGuest",className:"checkbox-login-as-guest"}),(0,u.jsx)("span",{className:"check"}),"Als Gast registrieren - hierbei wird kein Benutzeraccount erstellt"]})}),(0,u.jsx)("h3",{children:"Registration - Ihre Angaben:"})]}),!window.isMobile&&(0,u.jsx)("div",{className:"topPersonalData",children:(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"checkbox",onChange:t,name:"asGuest",className:"checkbox-login-as-guest"}),(0,u.jsx)("span",{className:"check"}),"Als Gast registrieren - hierbei wird kein Benutzeraccount erstellt"]})})]}),(0,u.jsxs)("div",{className:"wrapperItemBasket",children:[(0,u.jsx)("div",{className:"billingForm",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-6",children:[(0,u.jsx)("div",{className:"topPersonalData",children:(0,u.jsxs)("div",{className:"wrapLabel",children:[(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"radio",name:"gender",value:"Herr",required:!0}),(0,u.jsx)("span",{}),"Herr"]}),(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"radio",name:"gender",value:"Frau",required:!0}),(0,u.jsx)("span",{}),"Frau"]}),(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"checkbox",name:"company",checked:a.company,onChange:t}),(0,u.jsx)("span",{className:"check"}),"Firma"]})]})}),(0,u.jsx)("div",{className:a.company?" rowInputs":" rowInputs hide",children:(0,u.jsx)("input",{type:"text",name:"companyName",placeholder:"Firma",required:a.company})}),(0,u.jsxs)("div",{className:g,children:[(0,u.jsxs)("div",{className:"text",children:[(0,u.jsxs)("span",{onClick:()=>$(".uid-number-wrap").addClass("show-input").find("input").focus(),children:["+",D[m].text]}),(0,u.jsxs)("div",{className:"question-sign",children:[(0,u.jsx)("img",{loading:"lazy",src:"/images/design/question_condition.svg",alt:""}),(0,u.jsx)("div",{className:"info-icon-text",children:D[m].tooltip})]})]}),(0,u.jsx)("input",{type:"text",onBlur:this.handlerBlurInputUIDNumber,name:"companyUidNumber",value:c,onChange:d,placeholder:D[m].text,required:a.company})]}),(0,u.jsxs)("div",{className:" rowInputs",children:[(0,u.jsx)("input",{type:"text",name:"firstname",placeholder:"Vorname",required:!0}),(0,u.jsx)("input",{type:"text",name:"lastname",placeholder:"Nachname",required:!0})]}),(0,u.jsxs)("div",{className:"personalDataAddress rowInputs",children:[(0,u.jsx)("input",{type:"text",name:"street",id:"route",placeholder:"Strasse",required:!0}),(0,u.jsx)("input",{type:"text",name:"number",id:"street_number",placeholder:"Nr.",required:!0})]}),(0,u.jsxs)("div",{className:"personalDataCity rowInputs",children:[(0,u.jsx)("input",{type:"text",name:"zip",placeholder:"PLZ",id:"postal_code",required:!0}),(0,u.jsx)("input",{type:"text",name:"city",placeholder:"Stadt",id:"locality",required:!0})]}),(0,u.jsxs)("div",{className:"select",children:[!s.countriesList.some((e=>e.value===s.currentCountry.inputCountry.toLowerCase()))&&(0,u.jsx)("input",{className:"requiredSelect",type:"text",required:!0}),(0,u.jsx)(S.ZP,{placeholder:"Ausw\xe4hlen...",value:s.currentCountry.inputCountry.toLowerCase(),name:"inputCountry",clearable:!1,options:s.countriesList,searchable:!1,required:!0,onChange:s=>e(s,"inputCountry")})]}),(0,u.jsxs)("div",{className:" rowInputs",children:[(0,u.jsxs)("div",{className:"wrapInput",children:[(0,u.jsx)("input",{type:"email",name:"email",className:i.info?"error":null,placeholder:"E-Mail",required:!0}),(0,u.jsx)("span",{className:"errorText",children:i.info})]}),(0,u.jsx)("input",{type:"tel",name:"phone",placeholder:"Telefon (mobil)",required:!0})]}),!r.isLogin&&!a.asGuest&&(0,u.jsxs)("div",{className:"inputFullWidth rowInputs password",children:[(0,u.jsx)("input",{type:"password",name:"password",placeholder:"Passwort (min. 8 Zeichen + min. 1 Nr. )",className:i.password?"error":null,onChange:this.changePassword,required:!n}),(0,u.jsx)("span",{className:"errorText",children:i.password}),(0,u.jsx)("div",{className:"statusBarPassword"})]}),(0,u.jsxs)("label",{className:"shippingAddressCheck",children:[(0,u.jsx)("input",{type:"checkbox",name:"shippingAddress",value:a.shippingAddress,defaultChecked:a.shippingAddress,onChange:t}),(0,u.jsx)("span",{})," Diese Adresse auch f\xfcr R\xfccksendungen benutzen"]})]}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"payment-request",children:[(0,u.jsx)("h3",{className:"title",children:"Ihr Auszahlungswunsch"}),(0,u.jsxs)("div",{className:"tabs-nav",children:[(0,u.jsx)("div",{className:"later"===p?"item-tab active":"item-tab",onClick:this.clickNavItem,"data-type":"later",children:"Zahlungsdaten sp\xe4ter angeben"}),(0,u.jsx)("div",{className:"now"===p?"item-tab active":"item-tab",onClick:this.clickNavItem,"data-type":"now",children:"Zahlungsdaten jetzt angeben"})]}),"now"===p&&(0,u.jsxs)("div",{className:"tab-content",children:[(0,u.jsxs)("div",{className:"item-method",children:[(0,u.jsxs)("div",{className:"wrap-label",children:[(0,u.jsxs)("label",{className:"custom-radio-check",children:[(0,u.jsx)("input",{onChange:this.changeDesiredPayoutType,onLoad:this.changeDesiredPayoutType,type:"radio",name:"desiredPayoutType",value:"2",checked:"checked",required:!0}),(0,u.jsx)("span",{}),(0,u.jsx)("img",{loading:"lazy",src:"/images/design/sell-payment-bank-icon.svg",alt:""}),(0,u.jsxs)("div",{children:["Bank\xfcberweisung",b>0&&(0,u.jsxs)("div",{className:"basketPrice",children:[(0,u.jsxs)("strong",{children:["+ ",b," ",window.currencyValue]})," ","- Es sind mehrere Ger\xe4te im Verkaufskorb"]})]})]}),(0,u.jsxs)("span",{className:"price",children:[x," ",window.currencyValue]})]}),(0,u.jsxs)("div",{className:"inputRow",children:[(0,u.jsx)("input",{type:"text",name:"iban",placeholder:"Ihre IBAN-Nummer",required:!0}),(0,u.jsxs)("div",{className:"image-icon",children:[(0,u.jsx)("img",{loading:"lazy",src:"/images/design/qmark-grey.svg",alt:""}),(0,u.jsx)("span",{className:"info-icon-text",children:"Hier k\xf6nnen Sie Ihre IBAN-Nummer (Bankkontonummer) angeben, damit wir Ihnen den Betrag auf dieses Konto auszahlen k\xf6nnen. Die IBAN-Nummer steht oft auch auf Ihrer EC-Karte."})]})]})]}),(0,u.jsxs)("div",{className:"footer",children:[(0,u.jsxs)("div",{className:"item-column",children:[(0,u.jsx)("span",{className:"check-icon"}),(0,u.jsx)("div",{className:"image-wrap",children:(0,u.jsx)("img",{loading:"lazy",src:"/images/design/sell-payment-express.svg",alt:""})})]}),(0,u.jsxs)("div",{className:"item-column big",children:[(0,u.jsx)("p",{className:"title",children:"Immer inklusive und kostenfrei"}),(0,u.jsx)("p",{className:"descr",children:"Sie erhalten Ihr Geld Express: Auszahlung am gleichen Tag bei Anlieferung vor 14 Uhr. Dauer der Auszahlung auf Ihr Bankkonto im Normalfall 1-2 Werktage."})]})]})]})]})})]})}),(0,u.jsxs)("div",{className:!0===a.shippingAddress?"hide shippingForm":"shippingForm",children:[(0,u.jsx)("div",{className:"topPersonalData",children:(0,u.jsxs)("div",{className:"wrapLabel",children:[(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"radio",name:"customer_gender",value:"Herr",required:!a.shippingAddress}),(0,u.jsx)("span",{}),"Herr"]}),(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"radio",name:"customer_gender",value:"Frau",required:!a.shippingAddress}),(0,u.jsx)("span",{}),"Frau"]}),(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"checkbox",name:"customerCompanyName",value:!0,defaultChecked:a.customerCompanyName,onClick:t}),(0,u.jsx)("span",{className:"check"}),"Firma"]})]})}),(0,u.jsx)("div",{className:a.customerCompanyName?"rowInputs":"rowInputs hide",children:(0,u.jsx)("input",{type:"text",name:"customer_companyName",placeholder:"Firma",required:a.customerCompanyName})}),(0,u.jsxs)("div",{className:"rowInputs",children:[(0,u.jsx)("input",{type:"text",name:"customer_firstname",placeholder:"Vorname",required:!a.shippingAddress}),(0,u.jsx)("input",{type:"text",name:"customer_lastname",placeholder:"Nachname",required:!a.shippingAddress})]}),(0,u.jsxs)("div",{className:"personalDataAddress rowInputs",children:[(0,u.jsx)("input",{type:"text",name:"customer_street",id:"customer_route",placeholder:"Strasse",required:!a.shippingAddress}),(0,u.jsx)("input",{type:"text",name:"customer_number",id:"customer_street_number",placeholder:"Nr.",required:!a.shippingAddress})]}),(0,u.jsxs)("div",{className:"personalDataCity rowInputs",children:[(0,u.jsx)("input",{type:"text",name:"customer_zip",placeholder:"PLZ",id:"customer_postal_code",required:!a.shippingAddress}),(0,u.jsx)("input",{type:"text",name:"customer_city",placeholder:"Stadt",id:"customer_locality",required:!a.shippingAddress})]}),(0,u.jsxs)("div",{className:"select",children:[!s.countriesList.some((e=>e.value===s.currentCountry.customer_inputCountry.toLowerCase()))&&!0!==a.shippingAddress&&(0,u.jsx)("input",{className:"requiredSelect",type:"text",required:!0}),(0,u.jsx)(S.ZP,{placeholder:"Ausw\xe4hlen...",value:s.currentCountry.customer_inputCountry.toLowerCase(),name:"customer_inputCountry",clearable:!1,options:s.countriesList,searchable:!1,onChange:s=>e(s,"customer_inputCountry")})]}),(0,u.jsx)("div",{className:"rowInputs",children:(0,u.jsx)("input",{className:"inputFullWidth",type:"tel",name:"customer_phone",placeholder:"Telefon (mobil)",required:!a.shippingAddress})})]})]}),window.isMobile&&(0,u.jsx)("button",{type:"button",className:"btn toDelivery",onClick:o,children:"Zu den Lieferoptionen"})]})}}P.defaultProps={};const I=P,D={de:{text:"USt-ID angeben",tooltip:"Bei Angabe der MwSt.-Nr. wird diese als Vorsteuerabzug beim Ankauf angewendet"},ch:{text:"MwSt.-Nr. angeben",tooltip:"Bei Angabe der USt-ID-Nr. wird diese als Vorsteuerabzug beim Ankauf angewendet"}};class _ extends t.Component{constructor(e){super(e),this.chooseLocation=()=>{$("#myModalResult").modal("hide"),$("#modalChooseLocation").modal("show")},this.state={},this._initMap=this._initMap.bind(this)}componentDidMount(){window.isGoogleConnection&&this._initMap(this.props.place),this.encryptedEmail()}componentWillReceiveProps(e){window.isGoogleConnection&&this._initMap(e.place)}encryptedEmail(){let e=window.domainName.name.split(".")[window.domainName.name.split(".").length-1];document.getElementById("email-rot-13").innerHTML="de"===e?'<n uers="znvygb:vasb@erznexrg.qr" >vasb@erznexrg.qr</n>'.replace(/[a-zA-Z]/g,(function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)})):'<n uers="znvygb:vasb@erznexrg.pu" >vasb@erznexrg.pu</n>'.replace(/[a-zA-Z]/g,(function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)}))}_initMap(e){function s(e,s,a){this.latlng=e,this.args=a,this.setMap(s)}s.prototype=new google.maps.OverlayView,s.prototype.draw=function(){let e=this.div;e||(e=this.div=document.createElement("div"),e.className="mapMarker",this.getPanes().overlayImage.appendChild(e));var s=this.getProjection().fromLatLngToDivPixel(this.latlng);s&&(e.style.left=s.x-20+"px",e.style.top=s.y+"px")};let a={lat:e.latitude,long:e.longitude},t=new google.maps.LatLng(a.lat,a.long);new s(t,new google.maps.Map(document.querySelector(".mapContainer"),{zoom:17,center:t}),{})}render(){const{place:e}=this.props;let s=window.domainName.name.split(".")[window.domainName.name.split(".").length-1],a="ch"===s?"https://goo.gl/maps/eiCWN7JDXav":"https://goo.gl/maps/kgHZhkiYVko";return(0,u.jsxs)("div",{className:"bring-to-shop",id:"bringToShop",children:[(0,u.jsxs)("div",{className:"content",children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-6",children:[(0,u.jsx)("p",{className:"title",children:"Adresse"}),(0,u.jsxs)("p",{className:"address",children:["ch"===s?"remarket.ch":"remarket.de"," -"," ",e.descriptionBranch]}),(0,u.jsx)("p",{className:"address",children:e.address}),(0,u.jsxs)("p",{className:"address",children:[e.zip," ",e.city]}),(0,u.jsxs)("a",{className:"btn",target:"_blank",href:a,children:["Karte anzeigen",(0,u.jsx)("span",{children:(0,u.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})]}),(0,u.jsxs)("div",{className:"col-md-6",children:[(0,u.jsx)("p",{className:"title",children:"\xd6ffnungszeiten"}),(0,u.jsxs)("p",{className:"time",children:[(0,u.jsx)("span",{children:"Mo:"}),e.openingHours.mon]}),(0,u.jsxs)("p",{className:"time",children:[(0,u.jsx)("span",{children:"Di:"}),e.openingHours.tue]}),(0,u.jsxs)("p",{className:"time",children:[(0,u.jsx)("span",{children:"Mi:"}),e.openingHours.wed]}),(0,u.jsxs)("p",{className:"time",children:[(0,u.jsx)("span",{children:"Do:"}),e.openingHours.thu]}),(0,u.jsxs)("p",{className:"time",children:[(0,u.jsx)("span",{children:"Fr:"}),e.openingHours.fri]}),(0,u.jsxs)("p",{className:"time",children:[(0,u.jsx)("span",{children:"Sa:"}),e.openingHours.sat]})]})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-6",children:[(0,u.jsx)("p",{className:"title",children:"E-Mail"}),(0,u.jsxs)("p",{className:"email",children:[(0,u.jsx)("img",{loading:"lazy",src:"/images/design/icon-mail.svg",alt:""}),(0,u.jsx)("span",{id:"email-rot-13"})]})]}),(0,u.jsxs)("div",{className:"col-md-6",children:[(0,u.jsx)("p",{className:"title",children:"Telefon"}),(0,u.jsxs)("p",{className:"email",children:[(0,u.jsx)("img",{loading:"lazy",src:"/images/design/icon-phone.svg",alt:""}),(0,u.jsx)("a",{href:e.phone,children:e.phone})]})]})]})]}),(0,u.jsx)("div",{className:"mapContainer"})]})}}_.defaultProps={};const A=_;class F extends t.Component{constructor(e){super(e),this.state={infoPostCode:null,errors:{zip:"",date:""}},this._initCalendar=this._initCalendar.bind(this),this.handleChangeZip=this.handleChangeZip.bind(this),this.handlerClickBook=this.handlerClickBook.bind(this)}componentDidMount(){this._initCalendar()}componentWillMount(){this.inputZipCallback=l()((function(e){let s=e.target.value;axios.get("/api/checkShippingZip?zip=".concat(s)).then((e=>{this.setState({infoPostCode:e.data})})).catch((e=>{let s=e.response.data.errors.zip[0];this.setState({errors:{...this.state.errors,zip:s}})}))}),1e3)}handleChangeZip(e){this.setState({errors:{...this.state.errors,zip:null},infoPostCode:null}),e.persist(),e.target.value?this.inputZipCallback(e):this.inputZipCallback.cancel()}handlerClickBook(){$("#datetimepicker").val()||this.setState({errors:{...this.state.errors,date:"Please select date and time"}})}_initCalendar(){let e=a(),s=this;function a(){let e=new Date;return e.getHours()+3+"."+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())}$.datetimepicker.setLocale("de"),$("#datetimepicker").datetimepicker({formatDate:"d.m.Y",formatTime:"H:i",inline:!0,step:5,disabledWeekDays:[0,6],minTime:e,maxTime:"18.31",minDate:new Date,defaultSelect:!1,onChangeMonth:function(e,s){},onSelectDate:function(e,t){let n=new Date,i=null,r=n.getFullYear(),o=n.getMonth(),l=n.getDate(),c=e.getFullYear(),d=e.getMonth(),u=e.getDate();r===c&&o===d&&l===u?(i=a(),$("#datetimepicker").datetimepicker("setOptions",{minTime:i})):$("#datetimepicker").datetimepicker("setOptions",{minTime:"9.00"}),s.setState({errors:{...s.state.errors,date:""}})}})}render(){return(0,u.jsxs)("div",{className:"pickup-by-bicycle",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("h3",{className:"title",children:[(0,u.jsx)("img",{loading:"lazy",src:"/images/design/packing.svg",alt:""}),"Velokurier aufbieten"]}),(0,u.jsx)("p",{children:'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."'}),(0,u.jsxs)("div",{className:"row-input",children:[(0,u.jsxs)("div",{className:"input",children:[(0,u.jsx)("span",{children:"Ihre Postleitzahl:"}),(0,u.jsx)("input",{type:"text",placeholder:"z.B. 4142",onChange:this.handleChangeZip})]}),this.state.infoPostCode&&(0,u.jsxs)("div",{className:"result",children:[(0,u.jsx)("i",{className:"fa fa-times-circle-o"}),(0,u.jsx)("p",{children:"Eine Abholung per Velokurier ist m\xf6glich"})]}),this.state.errors.zip&&(0,u.jsxs)("div",{className:"result",children:[(0,u.jsx)("i",{className:"fa fa-check-circle-o"}),(0,u.jsx)("p",{children:"Eine Abholung per Velokurier ist leider nicht m\xf6glich. Bitte w\xe4hlen Sie eine andere Abholmethode aus."})]})]}),this.state.errors.date&&(0,u.jsx)("p",{className:"info error",style:{color:"#ff0000"},children:this.state.errors.date}),(0,u.jsx)("div",{id:"datetimepicker"})]}),this.state.infoPostCode&&(0,u.jsxs)("button",{className:"btn",onClick:this.handlerClickBook,children:["Book apointment",(0,u.jsx)("span",{children:(0,u.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})]})}}F.defaultProps={};const B=F;class L extends t.Component{constructor(e){super(e),this.state={}}render(){return(0,u.jsxs)("div",{className:"pickup-by-package",children:[(0,u.jsxs)("h3",{className:"title",children:[(0,u.jsx)("img",{loading:"lazy",src:"/images/design/packing.svg",alt:""}),"Paket abholen"]}),(0,u.jsxs)("div",{className:"date-row",children:[(0,u.jsx)("h4",{children:"Gewunschetes Abholdatum?"}),(0,u.jsx)(S.ZP,{placeholder:"Bitte wahlen..."})]}),(0,u.jsxs)("div",{className:"date-row",children:[(0,u.jsx)("h4",{children:"Gewunschetes Abholdatum?"}),(0,u.jsx)(S.ZP,{placeholder:"Bitte wahlen..."})]}),(0,u.jsx)("p",{children:'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."'}),(0,u.jsxs)("button",{className:"btn",children:["Book apointment",(0,u.jsx)("span",{children:(0,u.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]}),(0,u.jsx)("div",{className:"text-right",children:(0,u.jsx)("img",{loading:"lazy",src:"/images/design/swiss-post.svg",alt:""})})]})}}L.defaultProps={};const M=L;class T extends t.Component{constructor(e){super(e),this._gtag_report_conversion_by_postal=e=>{let s=JSON.parse(window.localStorage.getItem("PDFData")).totalPrice;return gtag("event","conversion",{send_to:"AW-827036726/CBjWCIaAqscBELaorooD",value:s,currency:"CHF"}),!1},this.state={country:{countriesList:[],currentCountry:{inputCountry:"CH",customer_inputCountry:"CH"}},inputCheckbox:{shippingAddress:!0,company:!1,customerCompanyName:!1,agree:!1,asGuest:!1},coupon:{couponError:null,couponPrice:null,couponShortcode:null,isCoupon:!1},errors:{password:"",info:"",general:""},currentTab:"",pdfUrl:"",showOldPrice:!1,summaryTabContent:"generalInfo",uidNumberField:"",place:{},defineTypeElem:0},this._calculatePrice=this._calculatePrice.bind(this),this._mapCriterias=this._mapCriterias.bind(this),this._setPersonalDataFields=this._setPersonalDataFields.bind(this),this._getPersonalDataFields=this._getPersonalDataFields.bind(this),this.changeCountry=this.changeCountry.bind(this),this.changeCheckbox=this.changeCheckbox.bind(this),this.changeForm=this.changeForm.bind(this),this.handleClickMobileBtn=this.handleClickMobileBtn.bind(this),this.send=this.send.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.changeCoupon=this.changeCoupon.bind(this),this.addToBasket=this.addToBasket.bind(this),this.saveAndBackToSellProcess=this.saveAndBackToSellProcess.bind(this),this.changeSummaryTabContent=this.changeSummaryTabContent.bind(this),this._gtag_report_conversion=this._gtag_report_conversion.bind(this),this.handlerChangeInput=this.handlerChangeInput.bind(this),this.loginFormMobile=this.loginFormMobile.bind(this)}componentWillMount(){this.inputCouponCallback=l()((function(e){let s=document.forms.basketForm.email.value,{shippingAddress:a}=this.state.inputCheckbox;r().get("/api/checkCoupon?coupon=".concat(e.target.value,"&email=").concat(s,"&shippingAddress=").concat(a,"&couponType=6")).then((s=>{this.state.coupon.isCoupon?this.setState({coupon:{...this.state.coupon,couponError:"Guteschein wurde bereits benutzt"}}):(e.target.value="",document.getElementById("coupon").checked=!1,this.setState({coupon:{...this.state.coupon,isCoupon:!0,data:s.data,couponShortcode:s.data.shortcode,showOldPrice:!1,couponPrice:+s.data.price}}))})).catch((e=>{let{data:s}=e.response;this.setState({coupon:{...this.state.coupon,couponError:s}})}))}),1e3)}componentWillReceiveProps(e){if("generalInfo"==e.chooseSummaryTab&&this.changeSummaryTabContent("generalInfo"),e.user.isLogin!==this.props.user.isLogin&&!1===e.user.isLogin){document.querySelectorAll(".personalData input").forEach((e=>{e.value="",e.checked=!1}));let{inputCheckbox:e}=this.state;e.company=!1,this.setState({inputCheckbox:e})}e.user.isLogin!==this.props.user.isLogin&&!0===e.user.isLogin&&this.setState({errors:{...this.state.errors,info:""}}),e.user.data!==this.props.user.data&&e.user.data&&(window.localStorage.removeItem("userDataVerkaufen"),window.localStorage.removeItem("userData"),this._setPersonalDataFields(e.user.data))}componentWillUnmount(){$("#intercom-container .intercom-launcher-frame").attr("style","bottom:20px !important"),$("#tidio-chat #tidio-chat-iframe").css({bottom:"-10px",right:"10px"}),$("body .fixedBtnVerkaufenResult").remove(),document.querySelector("body").removeEventListener("keyup",this.handleKeyPress,{passive:!0})}componentDidMount(){if(window.isMobile?($("body .verkaufenQuestion").remove(),this.props.setTitle&&this.props.setTitle('<span class="count">1/3</span> Zusammenfassung'),$("#intercom-container").length>0&&($("#intercom-container .intercom-launcher-frame").removeAttr("style"),$("#intercom-container").before('<div class="fixedBtnVerkaufenResult summary"></div>')),$("#tidio-chat").length>0?$("#tidio-chat").before('<div class="fixedBtnVerkaufenResult summary"></div>'):$("body").append('<div class="fixedBtnVerkaufenResult summary"></div>')):$("#myModalResult").modal(),$(".nav-pills a").on("click",(e=>e.preventDefault())),this.props.user.isLogin&&this.props.user.data)this._setPersonalDataFields(this.props.user.data);else{let e=JSON.parse(window.localStorage.getItem("userDataVerkaufen"));e&&this._setPersonalDataFields(e)}this.setState({country:{...this.state.country,countriesList:[{value:"ch",label:"Schweiz"},{value:"li",label:"Liechtenstein"}]}}),window.isGoogleConnection&&c.o9.call(this,2,"userDataVerkaufen"),document.querySelector("body").addEventListener("keyup",this.handleKeyPress),this.props.showInstructions&&($('.nav-pills a[href="#instructions"]').tab("show"),this.setState({pdfUrl:this.props.pdfUrl,currentTab:"instructions"}),this._gtag_report_conversion_by_postal(),this._gapi_load_surveyoptin()),setTimeout((()=>this.setState({showOldPrice:!0})),1500)}_gapi_load_surveyoptin(){var e=window.localStorage.getItem("email"),s=window.localStorage.getItem("order"),a=JSON.parse(window.localStorage.getItem("loggedUserData")),t=JSON.parse(window.localStorage.getItem("userDataVerkaufen"));let n={};if(a&&a.shippingAddress)n.country=a.shippingAddress.inputCountry;else{if(!t||!t.shippingAddress)return;n.country=t.shippingAddress.inputCountry}const i=new Date;let r=2;[5,6,0].includes(i.getDay())&&(r=3);let o=new Date(i.setDate(i.getDate()+r)).toISOString().substring(0,10);"undefined"!==typeof window.gapi&&window.gapi.load("surveyoptin",(function(){window.gapi.surveyoptin.render({merchant_id:120090380,order_id:s,email:e,delivery_country:n.country,estimated_delivery_date:o})}))}_gtag_report_conversion(e){return gtag("event","conversion",{send_to:"AW-782352579/CBjWCIaAqscBELaorooD",value:this._calculatePrice().price,currency:"CHF",event_callback:function(){"undefined"!=typeof e&&(window.location=e)}}),!1}handlerChangeInput(e){this.setState({uidNumberField:e.target.value})}handleKeyPress(e){"Escape"===e.key&&(($("#modalAGBReg").data("bs.modal")||{}).isShown?$("#modalAGBReg").modal("hide"):($("#myModalResult").modal("hide"),this.props.closeShowResults(this.state.currentTab,this.state.inputCheckbox.asGuest)))}_setPersonalDataFields(e){let s=document.forms.basketForm,{country:a,inputCheckbox:t,uidNumberField:n}=this.state;if(s){for(let n in e.billingAddress)"customer_inputCountry"===n?a.currentCountry.customer_inputCountry=e.billingAddress[n]:"customer_companyName"===n?e.billingAddress[n]?(t.customerCompanyName=!0,s[n].value=e.billingAddress[n]):(t.customerCompanyName=!1,s[n].value=e.billingAddress[n]):s[n]&&(s[n].value=e.billingAddress[n]);for(let i in e.shippingAddress)"inputCountry"===i?a.currentCountry.inputCountry=e.shippingAddress[i]:"companyName"===i?e.shippingAddress[i]?(t.company=!0,s[i].value=e.shippingAddress[i]):(t.company=!1,s[i].value=e.shippingAddress[i]):"vat"===i?n=e.shippingAddress[i]:s[i]&&(s[i].value=e.shippingAddress[i])}this.setState({country:a,inputCheckbox:t,uidNumberField:n,autoloadPersonalData:{...this.state.autoloadPersonalData,element:null,data:null}})}_getPersonalDataFields(){let e=document.forms.basketForm,s={};return e&&(s.shippingAddress={city:e.city.value,companyName:e.companyName.value,vat:e.companyUidNumber.value,email:e.email.value,firstname:e.firstname.value,gender:e.gender.value,inputCountry:e.inputCountry&&e.inputCountry.value,lastname:e.lastname.value,number:e.number.value,phone:e.phone.value,street:e.street.value,zip:e.zip.value},s.billingAddress={customer_city:e.city.value,customer_companyName:e.companyName.value,customer_email:e.email.value,customer_firstname:e.firstname.value,customer_gender:e.gender.value,customer_inputCountry:e.customer_inputCountry&&e.customer_inputCountry.value,customer_lastname:e.lastname.value,customer_number:e.number.value,customer_phone:e.phone.value,customer_street:e.street.value,customer_zip:e.zip.value}),s}changeCountry(e,s){let{value:a}=e,{currentCountry:t}=this.state.country;t[s]=a,this.setState({country:{...this.state.country,currentCountry:t}})}changeCoupon(e){this.setState({coupon:{...this.state.coupon,couponError:null}}),e.persist(),this.inputCouponCallback(e)}addToBasket(e){let{userAnswers:s}=this.props,a=[];this.state.coupon.isCoupon?a=[s,this.state.coupon.data]:a.push(s),this.props.addToBasketVerkaufen(e,a)}saveAndBackToSellProcess(e){this.props.addToBasketVerkaufen(e,[this.props.userAnswers],!0),this.props.handlerBack&&this.props.handlerBack()}changeCheckbox(e){let{inputCheckbox:s}=this.state,{name:a}=e.target;s[a]=!s[a],this.setState({inputCheckbox:s})}changeForm(){let e=this._getPersonalDataFields();window.localStorage.setItem("userDataVerkaufen",JSON.stringify(e)),this.setState({errors:{...this.state.errors,info:"",password:"",general:""}})}cancelSendByEnter(e){if("Enter"===e.key)return e.preventDefault(),!1}send(e){if(e.preventDefault(),this.state.inputCheckbox.agree){let e=new FormData(document.forms.basketForm),s=[...this.props.basket.basketDataVerkaufen,this.props.userAnswers];this.state.coupon.isCoupon&&s.push(this.state.coupon.data),e.append("basketData",JSON.stringify(s)),document.getElementById("spinner-box-load").style.display="block",r().post("/api/basketPayout",e).then((e=>{window.localStorage.removeItem("basketDataVerkaufen"),this.props.basketActions.changeBasketVerkaufenData([]),document.getElementById("spinner-box-load").style.display="none",$('.nav-pills a[href="#instructions"]').tab("show"),window.isMobile&&($(".buttonsForMobile .sendForm").css({display:"none"}),$(".buttonsForMobile .estimatePrice").css({display:"block"}),this.props.setTitle&&this.props.setTitle('<span class="count">3/3</span> Anleitung'),this.props.setStep&&this.props.setStep("instructions"),this.props.setIsGuest&&this.props.setIsGuest(this.state.inputCheckbox.asGuest)),this.setState({pdfUrl:e.data[0].PDFPath,currentTab:"instructions"}),window.isGoogleConnection,window.isFBConnection&&fbq("track","CompleteRegistration",{value:e.data[0].PDFData.totalPrice,currency:window.currencyValue})})).catch((e=>{let s,a,t,n=e.response.data.errors;n&&(n.email&&(s=n.email),n.password&&(a=n.password),n.general&&(t=n.general)),this.setState({errors:{...this.state.errors,info:s,password:a,general:t}}),document.getElementById("spinner-box-load").style.display="none"}))}}handleClickMobileBtn(e){let s=e.target.getAttribute("data-name");"summary"===s?($('.nav-pills a[href="#form"]').tab("show"),this.props.setTitle&&this.props.setTitle('<span class="count">2/3</span> Pers\xf6nliche Angaben'),this.props.setStep&&this.props.setStep("form"),$(".buttonsForMobile .sendForm").css({display:"block"}),$(".buttonsForMobile .summary").css({display:"none"}),$(".fixedBtnVerkaufenResult").removeClass("summary")):"form"===s&&$("#form button[type='submit']").click()}_calculatePrice(){let{userAnswers:e}=this.props,s=+e.Model[0].minPrice,a=0,t=0;for(let n in e)"Defects"===n?e[n].forEach((e=>a+=+e.price)):"Brand"!==n&&"Submodel"!==n&&"image"!==n&&"Device"!==n&&"Condition"!==n&&"comment"!==n&&("Model"===n?e[n].forEach((e=>{a+=+e.price})):e[n].forEach((s=>{let t=+e.Model[0].price,n=+s.valuePrice.replace(/[^0-9.]/g,""),i=0,r=s.valuePrice.includes("%"),o=s.valuePrice.includes("-");r?(i=5*Math.ceil(t*(n/100)/5),o?a-=i:a+=i):o?a-=n:a+=n})));return a<s&&(a=s),t=a,this.state.coupon.isCoupon&&(a+=+this.state.coupon.couponPrice),e.Model[0].discountPrice>0&&(a+=+e.Model[0].discountPrice),t===a&&(t=0),t=5*Math.round(t/5),a=5*Math.round(a/5),{price:a||0,oldPrice:t||0}}_mapCriterias(){let{userAnswers:e}=this.props,s=[];for(let t in e){let a="",n=window.isMobile?"col-xs-6 itemAnswer":"col-xs-4 itemAnswer";switch(t){case"Brand":a="Marke";break;case"Submodel":a="Untermodell";break;case"Model":a="Modell";break;case"Condition":a="Allgemeiner Zustand";break;case"Defects":a="Liste der Defekte";break;default:a=t}"image"!==t&&"Device"!==t&&"Defects"!==t&&"comment"!==t&&s.push((0,u.jsxs)("div",{className:n,children:[(0,u.jsx)("p",{className:"title",children:a}),(0,u.jsxs)("ul",{children:[e[t].map(((e,s)=>(0,u.jsxs)("li",{children:[e.name," ",e.nameExt?" (".concat(e.nameExt,")"):null,!e.hasOwnProperty("colorCode")&&"Model"!==t&&e.image&&(0,u.jsx)("img",{loading:"lazy",src:e.image}),e.colorCode&&(0,u.jsx)("span",{className:"colorPic",style:{backgroundColor:e.colorCode}})]},s))),0===e[t].length&&(0,u.jsx)("li",{children:"-"})]})]},t)),"Defects"===t&&s.push((0,u.jsxs)("div",{className:n,children:[(0,u.jsx)("p",{className:"title",children:a}),(0,u.jsx)("p",{children:e[t].map(((s,a)=>(0,u.jsxs)("span",{children:[s["description-short"],a<e[t].length-1?", ":null]},a)))})]},t))}let a=window.isMobile?2:3;return s.reduce(((e,s,t)=>(t%a===0&&e.push([]),e[e.length-1].push(s),e)),[]).map((function(e,s){return(0,u.jsx)("div",{className:"row",children:e},s)}))}changeSummaryTabContent(e,s){"generalInfo"==e&&window.isMobile&&this.props.handleClearSummaryTab(),this.setState({summaryTabContent:e,place:s})}showLoginForm(){this.setState({showLoginForm:!0,defineTypeElem:this.state.defineTypeElem+1})}_loadPersonalData(e){e&&r().get("/api/customerAgileData").then((e=>{document.getElementById("spinner-box-load").style.display="none",200===e.status&&this.props.userActions.loginSuccess(e.data)})).catch((e=>{}))}loginFormMobile(e){e.preventDefault();let s=new FormData(document.forms.loginFormMobile);document.getElementById("spinner-box-load").style.display="block",r().post("/api/login",s).then((e=>{if("OK"!==e.statusText){document.getElementById("spinner-box-load").style.display="none";let{errorLogin:s}=this.state;s[e.data.field]=e.data.message,e.data.resendActivationLink&&(s.resendActivationLink=e.data.resendActivationLink),this.setState({errorLogin:s})}else window.localStorage.setItem("token",e.data.token),window.axios.defaults.headers.common["Authorization-Token"]=e.data.token,this._loadPersonalData(e.data.token)})).catch((e=>{document.getElementById("spinner-box-load").style.display="none";let s,a,t=e.response.data.errors;t&&(t.login&&(s=t.login[0]),t.password&&(a=t.password[0])),this.setState({errorLogin:{...this.state.errorLogin,login:s,password:a},spinner:null})}))}render(){$("#tidio-chat #tidio-chat-iframe").show();let{userAnswers:e,changeComment:s,closeShowResults:a,user:t}=this.props,{country:n,inputCheckbox:i,errors:r,currentTab:o,coupon:l,summaryTabContent:c,uidNumberField:d,place:p,defineTypeElem:h,showLoginForm:m}=this.state,x=0,b=this.props.basket.basketDataVerkaufen.every((e=>999!=e.productTypeId)),j=JSON.parse(window.localStorage.getItem("locationData"));return this.props.showInstructions||(x=this._calculatePrice()),(0,u.jsxs)("div",{className:"resultSellPage",children:[(0,u.jsx)("div",{id:"myModalResult",className:"modal fade bs-example-modal-lg","data-backdrop":"static",role:"dialog","aria-labelledby":"myLargeModalLabel",children:(0,u.jsxs)("div",{className:"modal-dialog modal-lg modal-sell-result",role:"document",children:[(0,u.jsx)("button",{type:"button",className:"closeModal",onClick:()=>a(o,i.asGuest),"data-dismiss":"modal","aria-label":"Close"}),(0,u.jsx)("div",{className:"modal-content",children:(0,u.jsxs)("div",{className:"tabs",children:[(0,u.jsxs)("ul",{className:"nav nav-pills nav-justified",role:"tablist",children:[(0,u.jsx)("li",{role:"presentation",className:"active",children:(0,u.jsxs)("a",{href:"#summary","aria-controls":"home",role:"tab",children:[(0,u.jsx)("span",{className:"num",children:"1"}),"Zusammenfassung"]})}),(0,u.jsx)("li",{role:"presentation",children:(0,u.jsxs)("a",{href:"#form","aria-controls":"profile",role:"tab",children:[(0,u.jsx)("span",{className:"num",children:"2"}),"Pers\xf6nliche Angaben"]})}),(0,u.jsx)("li",{role:"presentation",children:(0,u.jsxs)("a",{href:"#instructions","aria-controls":"messages",role:"tab",children:[(0,u.jsx)("span",{className:"num",children:"3"}),"Anleitung"]})})]}),(0,u.jsxs)("div",{className:"tab-content",children:[e&&(0,u.jsx)("div",{role:"tabpanel",className:"tab-pane active",id:"summary",children:(0,u.jsxs)("div",{className:"clearfix",children:["chooseLocation"!==c&&(0,u.jsxs)("div",{className:"col-sm-4 clearfix topMobile",children:["bringToShop"===c&&!window.isMobile&&(0,u.jsxs)("div",{className:"bring-to-shop__backButton",onClick:()=>this.changeSummaryTabContent("generalInfo"),children:[(0,u.jsx)("div",{className:"bring-to-shop__backButton-btn",children:(0,u.jsx)("img",{loading:"lazy",src:"/images/icons/arrow-back.svg",alt:"ZUR\xdcCK"})}),(0,u.jsx)("span",{children:"ZUR\xdcCK"})]}),(0,u.jsxs)("div",{className:"information-block",children:[(0,u.jsx)("h3",{className:"title",children:"Information"}),(0,u.jsx)("p",{children:"Gerne k\xf6nnen Sie bei uns im Ladenlokal das Ger\xe4t verkaufen oder kostenlos uns per Post zusenden."})]}),(0,u.jsx)("div",{className:"image col-xs-12  text-center",children:(0,u.jsx)("img",{loading:"lazy",src:e.image,alt:""})}),(0,u.jsx)("div",{className:"clearfix"}),(0,u.jsx)(g.f,{animationIn:"zoomIn",animationInDelay:3,children:(0,u.jsxs)("div",{className:"price col-xs-12 animated zoomIn",children:[(0,u.jsx)("p",{className:"title",children:"Ihr Preis"}),(0,u.jsxs)("p",{className:x.oldPrice>0&&this.state.showOldPrice?"oldPrice value":"value",children:[x.oldPrice>0?x.oldPrice:x.price," ",window.currencyValue]}),x.oldPrice>0&&this.state.showOldPrice&&(0,u.jsx)(g.f,{animationIn:"bounceIn",animationInDelay:1e3,children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{className:"value",children:[x.price," ",window.currencyValue]}),l.isCoupon&&(0,u.jsxs)("p",{className:"couponInfo",children:[(0,u.jsx)("span",{className:"circleOk"}),"Gutschein ",l.couponShortcode," ","wurde eingel\xf6st"]})]})})]})})]}),(0,u.jsxs)("div",{className:"chooseLocation"!==c?"col-sm-8":"col-md-12",children:[(0,u.jsxs)("div",{className:"row",children:["generalInfo"===c&&(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"wrapAnswers clearfix",children:this._mapCriterias()}),(0,u.jsx)("div",{className:"comment",children:(0,u.jsx)("textarea",{style:{width:"100%"},name:"comment",rows:"2",placeholder:"Kommentar zu diesem Ger\xe4t hinzuf\xfcgen (optional)",onChange:s})})]}),"chooseLocation"===c&&(0,u.jsxs)("div",{className:"chooseLocation",id:"chooseLocationTab",children:[!window.isMobile&&(0,u.jsx)("div",{className:"backButton",onClick:()=>this.changeSummaryTabContent("generalInfo"),children:(0,u.jsx)("img",{loading:"lazy",src:"/images/icons/arrow-back.svg",alt:""})}),!window.isMobile&&(0,u.jsx)("div",{className:"back",children:(0,u.jsx)("span",{children:"Zur\xfcck"})}),(0,u.jsxs)("div",{className:"col-md-12",children:[(0,u.jsx)("p",{className:"title text-center",children:"Ladenlokal besuchen"}),(0,u.jsx)("p",{className:"description text-center",children:"W\xe4hlen Sie die Filiale aus, welche Sie besuchen wollen, um weitere Informationen zu erhalten."}),(0,u.jsx)("div",{className:"locations",children:j.data.map(((e,s)=>(0,u.jsxs)("button",{className:"btn bigText text-center",onClick:s=>{this.changeSummaryTabContent("bringToShop",e)},children:[(0,u.jsx)("img",{loading:"lazy",alt:"",src:"/images/".concat(e.id,".svg"),style:{marginRight:17}}),(0,u.jsxs)("div",{className:"location-title",children:["Filiale ",e.descriptionBranch]})]},s)))})]})]}),"bringToShop"===c&&(0,u.jsx)(A,{place:p}),"pickupByBicycle"===c&&(0,u.jsx)(B,{}),"pickupByPackage"===c&&(0,u.jsx)(M,{})]}),"chooseLocation"!==c&&(0,u.jsx)("div",{className:"row",children:(0,u.jsxs)("div",{className:"col-md-12",children:[(0,u.jsxs)("div",{className:"row text-right buttons",children:[(0,u.jsxs)("button",{className:"btn",onClick:()=>this.changeSummaryTabContent("chooseLocation"),children:["Ladenlokal besuchen",(0,u.jsx)("img",{loading:"lazy",src:"/images/design/ic-bring.svg",alt:""})]}),(0,u.jsxs)("button",{className:"btn","data-name":"summary",onClick:e=>{$('.nav-pills a[href="#form"]').tab("show"),this.props.setStep&&this.handleClickMobileBtn(e)},children:["Gratis per Post einsenden",(0,u.jsx)("img",{loading:"lazy",src:"/images/design/ic-post.svg",alt:""})]})]}),window.isMobile&&(0,u.jsx)(v,{}),(0,u.jsxs)("div",{className:"row buttons",children:[(0,u.jsxs)("span",{className:"link",onClick:this.saveAndBackToSellProcess,children:[(0,u.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"}),"Weiteres Ger\xe4t verkaufen"]}),(0,u.jsxs)("span",{className:"link",onClick:this.addToBasket,children:[(0,u.jsx)("img",{loading:"lazy",src:"/images/design/save.svg",alt:""}),"Ich will sp\xe4ter weitermachen, jetzt"," ",(0,u.jsx)("strong",{children:"speichern"}),"!"]})]})]})})]}),(0,u.jsx)("div",{className:"col-sm-12 tabSummary",children:(0,u.jsx)("div",{className:"row",children:!window.isMobile&&"chooseLocation"!==c&&(0,u.jsx)(C,{user:t,id:"summary"})})})]})}),e&&(0,u.jsx)("div",{role:"tabpanel",className:"tab-pane",id:"form",children:(0,u.jsxs)("div",{className:"clearfix",children:[window.isMobile&&(0,u.jsx)(v,{}),(0,u.jsxs)("div",{className:"col-sm-4 clearfix topMobile",children:[(0,u.jsx)("div",{className:"image col-xs-12 text-center",children:(0,u.jsx)("img",{loading:"lazy",src:e.image,alt:""})}),(0,u.jsxs)("div",{className:"price col-xs-12",children:[(0,u.jsx)("p",{className:"title",children:"Ihr Preis"}),(0,u.jsxs)("p",{className:x.oldPrice>0?"oldPrice value":"value",children:[x.oldPrice>0?x.oldPrice:x.price," ",window.currencyValue]}),x.oldPrice>0&&!e.Model[0].discountPrice>0&&(0,u.jsx)(g.f,{animationIn:"bounceIn",animationInDelay:1e3,children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{className:"value",children:[x.price," ",window.currencyValue]}),l.isCoupon&&(0,u.jsxs)("p",{className:"couponInfo",children:[(0,u.jsx)("span",{className:"circleOk"}),"Gutschein ",l.couponShortcode," wurde eingel\xf6st"]})]})}),e.Model[0].discountPrice>0&&(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{className:"value",children:[x.price," ",window.currencyValue]}),l.isCoupon&&(0,u.jsxs)("p",{className:"couponInfo",children:[(0,u.jsx)("span",{className:"circleOk"}),"Gutschein ",l.couponShortcode," wurde eingel\xf6st"]})]}),b&&(0,u.jsxs)("div",{className:"couponField",children:[(0,u.jsx)("input",{type:"checkbox",id:"coupon"}),(0,u.jsx)("label",{htmlFor:"coupon",children:"+ Gutscheincode hinzuf\xfcgen"}),(0,u.jsx)("input",{type:"text",className:l.couponError?"errorInput":"",name:"coupon",placeholder:"Gutschein einl\xf6sen",onChange:this.changeCoupon}),l.couponError&&(0,u.jsx)("span",{className:"errorText",children:l.couponError})]})]}),!window.isMobile&&(0,u.jsx)(C,{user:t,id:"form"})]}),(0,u.jsxs)("div",{className:"col-sm-8",children:[r.general&&(0,u.jsx)("p",{className:"errorInfo",children:r.general}),!t.isLogin&&window.isMobile&&(0,u.jsxs)("form",{name:"loginFormMobile",className:"loginFormMobile",onSubmit:this.loginFormMobile,children:[m&&(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{type:"email",name:"login",required:!0,placeholder:"E-Mail"}),(0,u.jsx)("br",{}),(0,u.jsx)("input",{type:"text",name:"password",required:!0,placeholder:"Passwort"})]}),h>0?(0,u.jsxs)("button",{type:"submit",className:"btn",onSubmit:this.loginFormMobile,children:["Einloggen",(0,u.jsx)("span",{children:(0,u.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]}):(0,u.jsxs)("span",{className:"btn",onClick:this.showLoginForm.bind(this),children:["Einloggen",(0,u.jsx)("span",{children:(0,u.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})]}),(0,u.jsxs)("form",{action:"#",name:"basketForm",onChange:this.changeForm,onKeyPress:this.cancelSendByEnter.bind(this),onSubmit:this.send,children:[(0,u.jsx)("div",{className:"basketWrap",children:(0,u.jsx)(I,{country:n,basketDataVerkaufen:this.props.basket.basketDataVerkaufen,uidNumberField:d,handlerChangeInput:this.handlerChangeInput,price:x.price,cancelRedirect:this.props.userActions.cancelRedirectToMyAccount,user:this.props.user,error:r,inputCheckbox:i,changeCountry:this.changeCountry,changeCheckbox:this.changeCheckbox})}),(0,u.jsxs)("span",{className:"agree",children:[(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"checkbox",name:"agree",required:!0,onChange:this.changeCheckbox}),(0,u.jsx)("span",{className:"checkbox"})]}),(0,u.jsxs)("span",{children:["Ich habe die"," ",(0,u.jsx)("a",{href:"/ueber-uns/agb",target:"_blank",children:"AGB"})," ","und die"," ",(0,u.jsx)("a",{href:"/ueber-uns/datenschutzerklaerung",target:"_blank",children:"Datenschutzerkl\xe4rung"})," ","gelesen und akzeptiere diese"]})]}),(0,u.jsx)("div",{className:"text-right buttons",children:(0,u.jsxs)("button",{type:"submit",className:"btn pulsing",onSubmit:this.send,children:["Abschliessen",(0,u.jsx)("span",{children:(0,u.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})})]})]})]})}),(0,u.jsxs)("div",{role:"tabpanel",className:"tab-pane howItWorks",id:"instructions",children:[(0,u.jsxs)("div",{className:"clearfix periods",children:[(0,u.jsxs)("div",{className:"col-sm-4 text-center itemPeriod",children:[(0,u.jsxs)("div",{className:"image",children:[(0,u.jsx)("div",{className:"num",children:(0,u.jsx)("img",{loading:"lazy",src:"/images/design/1.svg",alt:"ds"})}),(0,u.jsx)("img",{loading:"lazy",src:"/images/design/estimate-icon.svg",alt:""})]}),(0,u.jsx)("h4",{children:"Ger\xe4t zur\xfccksetzen"}),(0,u.jsx)("p",{children:"L\xf6schen Sie alle Daten auf Ihrem Ger\xe4t indem Sie es auf die Werkseinstellungen zur\xfccksetzen"})]}),(0,u.jsxs)("div",{className:"col-sm-4 text-center itemPeriod",children:[(0,u.jsxs)("div",{className:"image",children:[(0,u.jsx)("div",{className:"num",children:(0,u.jsx)("img",{loading:"lazy",src:"/images/design/2.svg",alt:""})}),(0,u.jsx)("img",{loading:"lazy",src:"/images/design/send-icon.svg",alt:""})]}),(0,u.jsx)("h4",{children:"Ger\xe4t einsenden"}),(0,u.jsxs)("p",{children:["Senden Sie Ihr Ger\xe4t ",(0,u.jsx)("strong",{children:"kostenlos"})," mit dem vorfrankierten Versandlabel per Post zu."]})]}),(0,u.jsxs)("div",{className:"col-sm-4 text-center itemPeriod",children:[(0,u.jsxs)("div",{className:"image",children:[(0,u.jsx)("div",{className:"num",children:(0,u.jsx)("img",{loading:"lazy",src:"/images/design/3.svg",alt:""})}),(0,u.jsx)("img",{loading:"lazy",src:"/images/design/get-icon.svg",alt:""})]}),(0,u.jsx)("h4",{children:"Zahlung erhalten"}),(0,u.jsxs)("p",{children:["Nach Pr\xfcfung Ihres Ger\xe4tes wird der Betrag"," ",(0,u.jsx)("strong",{children:"Express"})," ausbezahlt."]})]})]}),(0,u.jsx)("div",{className:"row text-center",children:(0,u.jsxs)("a",{href:"//".concat(window.location.host,"/").concat(this.state.pdfUrl),target:"_blank",className:"estimatePrice btn",children:[" ","Herunterladen und ausdrucken",(0,u.jsx)("span",{children:(0,u.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})})]})]})]})})]})}),(0,u.jsxs)("div",{className:"buttonsForMobile",children:[(0,u.jsx)("button",{type:"button","data-name":"form",className:"btn sendForm",onClick:this.handleClickMobileBtn,children:"Abschliessen"}),(0,u.jsxs)("a",{href:"//".concat(window.location.host,"/").concat(this.state.pdfUrl),target:"_blank",className:"estimatePrice btn",children:[" ","Herunterladen und ausdrucken"]})]})]})}}T.defaultProps={};const E=(0,x.$j)((function(e){return{basket:e.basket,user:e.user,places:e.places.currentLocation}}),(function(e){return{basketActions:(0,b.DE)(j,e),userActions:(0,b.DE)(y,e)}}),null,{pure:!1})(T);class z extends t.Component{constructor(e){super(e),this.state={country:{countriesList:[],currentCountry:{inputCountry:"CH",customer_inputCountry:"CH"}},inputCheckbox:{shippingAddress:!0,company:!1,customerCompanyName:!1,asGuest:!1},couponError:null,infoMsg:null,errors:{password:"",info:"",general:""},showResults:null},this.changeCheckbox=this.changeCheckbox.bind(this),this.changeCountry=this.changeCountry.bind(this),this.changeCoupon=this.changeCoupon.bind(this),this.triggerChangeCoupon=this.triggerChangeCoupon.bind(this),this.changeForm=this.changeForm.bind(this),this.send=this.send.bind(this),this.handleRemoveFromBasket=this.handleRemoveFromBasket.bind(this),this.closeShowResults=this.closeShowResults.bind(this),this._gtag_report_conversion=this._gtag_report_conversion.bind(this)}componentWillReceiveProps(e){if(e.user.isLogin!==this.props.user.isLogin&&!1===e.user.isLogin){document.querySelectorAll(".personalData input").forEach((e=>{e.value="",e.checked=!1}));let{inputCheckbox:e}=this.state;e.company=!1,this.setState({inputCheckbox:e})}e.user.isLogin!==this.props.user.isLogin&&!0===e.user.isLogin&&this.setState({errors:{...this.state.errors,info:""}}),e.user.data!==this.props.user.data&&e.user.data&&(window.localStorage.removeItem("userDataVerkaufen"),window.localStorage.removeItem("userData"),c.ce.call(this,e.user.data))}componentWillMount(){this.inputCouponCallback=l()((function(e){let s=document.forms.basketForm.email.value,{shippingAddress:a}=this.state.inputCheckbox;r().get("/api/checkCoupon?coupon=".concat(e.target.value,"&email=").concat(s,"&shippingAddress=").concat(a,"&couponType=6")).then((s=>{if(this.props.basket.basketDataVerkaufen.every((e=>999!=e.productTypeId))){let a=[...this.props.basket.basketDataVerkaufen,s.data];this.props.basketActions.changeBasketVerkaufenData(a),e.target.value=""}else this.setState({couponError:"Es ist nich m\xf6glich mehrere Gutscheine zu versenden"})})).catch((e=>{let{data:s}=e.response;this.setState({couponError:s})}))}),1e3),this.inputNameCallback=l()((function(e){let s=e.target.name.indexOf("customer")<0?"shippingAddress":"billingAddress";r().get("/api/autoloadAgileData?search=".concat(e.target.value,"&fieldName=").concat(e.target.name)).then((e=>{let{data:a}=e;a.length>0?this.setState({autoloadPersonalData:{...this.state.autoloadPersonalData,element:(0,u.jsx)(AutoloadPersonalData,{data:a,formType:s,choosePersonalData:this.choosePersonalData}),data:a}}):this.setState({autoloadPersonalData:{...this.state.autoloadPersonalData,element:null,data:a}})})).catch((e=>{}))}),500)}componentDidMount(){if(this.props.user.isLogin&&this.props.user.data&&this.props.basket.basketDataVerkaufen.length>0)c.ce.call(this,this.props.user.data);else{let e=JSON.parse(window.localStorage.getItem("userDataVerkaufen"));e&&this.props.basket.basketDataVerkaufen.length>0&&c.ce.call(this,e)}this.setState({country:{...this.state.country,countriesList:[{value:"ch",label:"Schweiz"},{value:"li",label:"Liechtenstein"}]}}),window.isGoogleConnection&&c.o9.call(this,2,"userDataVerkaufen")}componentWillUnmount(){if(!this.props.user.isLogin){let e=(0,c.S_)();window.localStorage.setItem("userDataVerkaufen",JSON.stringify(e))}}_gtag_report_conversion(){return gtag("event","conversion",{send_to:"AW-827036726/XGt5CJnpz3sQtqiuigM",event_callback:function(){"undefined"!=typeof url&&(window.location=url)}}),!1}changeCountry(e,s){let{value:a}=e,{currentCountry:t}=this.state.country;t[s]=a,this.setState({country:{...this.state.country,currentCountry:t}})}changeCheckbox(e){let{inputCheckbox:s}=this.state,{name:a}=e.target;s[a]=!s[a],this.setState({inputCheckbox:s})}changeCoupon(e){this.setState({couponError:null}),e.persist(),this.inputCouponCallback(e)}triggerChangeCoupon(){""!=$("#input_coupon").val()?(this.setState({couponError:null}),this.inputCouponCallback({target:{value:$("#input_coupon").val()}})):this.setState({couponError:"please input code eingeben"})}handleRemoveFromBasket(e,s){let a=this.props.basket.basketDataVerkaufen,t=[];t=999===e?a.filter((e=>e.shortcode!=s)):a.filter((e=>e.id!=s)),this.props.basketActions.changeBasketVerkaufenData(t)}closeShowResults(e){let{isLogin:s}=this.props.user,a={...this.state.inputCheckbox};"instructions"===e&&(snaptr("track","SIGN_UP",{SIGN_UP:"true"}),s?n.mW.push("/kundenkonto"):a.asGuest?n.mW.push("/"):(this.props.userActions.setRedirectTo("/kundenkonto"),setTimeout((()=>document.getElementById("op").checked=!0),100)))}send(e){e.preventDefault();let s=new FormData(document.forms.basketForm);s.append("basketData",JSON.stringify(this.props.basket.basketDataVerkaufen)),document.getElementById("spinner-box-load").style.display="block",r().post("/api/basketPayout",s).then((e=>{document.getElementById("spinner-box-load").style.display="none",window.localStorage.setItem("email",e.data[0].viewData.email),window.localStorage.setItem("order",e.data[0].viewData.basketPayoutShortcode),window.localStorage.setItem("template",JSON.stringify(e.data[0].viewData.templates)),window.localStorage.setItem("PDFData",JSON.stringify(e.data[0].PDFData)),window.localStorage.setItem("basketDataVerkaufenForSellPage",JSON.stringify(this.props.basket.basketDataVerkaufen)),window.localStorage.removeItem("basketDataVerkaufen"),this.props.basketActions.changeBasketVerkaufenData([]),window.isMobile&&$(".basketWrap>div").hide(),this.setState({showResults:(0,u.jsx)(E,{closeShowResults:this.closeShowResults,pdfUrl:e.data[0].PDFPath,showInstructions:!0})}),this.props.sendSuccess&&this.props.sendSuccess(),window.isGoogleConnection,window.isFBConnection&&fbq("track","CompleteRegistration",{value:e.data[0].PDFData.totalPrice,currency:window.currencyValue})})).catch((e=>{let s,a,t,n=e.response.data.errors;n&&(n.email&&(s=n.email),n.password&&(a=n.password),n.general&&(t=n.general)),this.setState({errors:{...this.state.errors,info:s,password:a,general:t}}),document.getElementById("spinner-box-load").style.display="none"}))}changeForm(){let e=(0,c.S_)();window.localStorage.setItem("userDataVerkaufen",JSON.stringify(e)),this.setState({errors:{...this.state.errors,info:"",password:"",general:""}})}cancelSendByEnter(e){if("Enter"===e.key)return e.preventDefault(),!1}render(){let{country:e,inputCheckbox:s,couponError:a,errors:t}=this.state,{basketDataVerkaufen:n}=this.props.basket;return(0,u.jsxs)("div",{className:"basketWrap verkaufen sellPage",children:[(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)("p",{className:"successMsg",children:this.state.infoMsg}),(0,u.jsx)("p",{className:"errorInfo",children:this.state.errors.general}),n.length>0?(0,u.jsx)("form",{action:"#",name:"basketForm",onChange:this.changeForm,onKeyPress:this.cancelSendByEnter.bind(this),onSubmit:this.send,children:(0,u.jsxs)("div",{className:"row formWrap",children:[(0,u.jsx)("div",{className:"col-md-7",children:(0,u.jsx)(d.Z,{country:e,cancelRedirect:this.props.userActions.cancelRedirectToMyAccount,user:this.props.user,error:t,inputCheckbox:s,changeCountry:this.changeCountry,handlerSendSellBasket:this.send,changeCheckbox:this.changeCheckbox})}),(0,u.jsx)(h,{basketData:n,goToCheckoutMobile:this.props.goToCheckout,changeCoupon:this.changeCoupon,triggerChangeCoupon:this.triggerChangeCoupon,couponError:a,removeFromBasket:this.handleRemoveFromBasket})]})}):(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{children:"Verkaufskorb"}),(0,u.jsx)("p",{className:"emptyBasket",children:"Ihr Verkaufskorb ist leer."})]})]}),this.state.showResults]})}}z.defaultProps={};const q=(0,x.$j)((function(e){return{basket:e.basket,user:e.user}}),(function(e){return{basketActions:(0,b.DE)(j,e),userActions:(0,b.DE)(y,e)}}),null,{pure:!1})(z)}}]);
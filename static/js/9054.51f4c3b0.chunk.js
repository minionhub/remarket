"use strict";(self.webpackChunkassessment=self.webpackChunkassessment||[]).push([[9054],{81698:(e,s,a)=>{a.d(s,{t:()=>i});let i={getCookie(e){let s=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return s?decodeURIComponent(s[1]):void 0},setCookie(e,s,a){let i=(a=a||{}).expires;if("number"==typeof i&&i){let e=new Date;e.setTime(e.getTime()+1e3*i),i=a.expires=e}i&&i.toUTCString&&(a.expires=i.toUTCString());let n=e+"="+(s=encodeURIComponent(s));for(let t in a){n+="; "+t;let e=a[t];!0!==e&&(n+="="+e)}document.cookie=n},deleteCookie(e){this.setCookie(e,"",{expires:-1})}}},22667:(e,s,a)=>{a.d(s,{Z:()=>r});var i=a(47313),n=a(46417);class t extends i.Component{constructor(e){super(e),this.state={}}componentDidMount(){const e=document.querySelector(".addToBasketEffect"),{startPosition:s}=this.props,a=this.getEndPosition();e.style.top=s.top+"px",e.style.left=s.left+"px",setTimeout((()=>{e.style.transition="all 2s",e.style.top=a.top-20+"px",e.style.left=a.left-19+"px",e.style.transform="scale(.3)"}),0)}getEndPosition(){if("kaufen"!==this.props.basketType)return $(".cart-total-verkaufen").offset();let e=$(".cart-total-kaufen").offset();if(0==e.top&&0==e.left){e=$($(".cart-total-kaufen")[1]).offset()}return e}render(){return(0,n.jsx)("div",{className:"addToBasketEffect",children:(0,n.jsx)("img",{loading:"lazy",src:this.props.image,alt:""})})}}t.defaultProps={};const r=t},87426:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var i=a(31881),n=a.n(i),t=a(47313),r=a(72231),l=a(81698),c=a(69947),o=a(46417);class d extends t.Component{constructor(e){super(e),this.state={basketDataForSimilarItems:[],similarItems:[],errorPay:""},this.clickTryAgain=this.clickTryAgain.bind(this)}componentDidMount(){let e=window.localStorage.getItem("basketShortcode");e&&n().get("/api/basket/failed?basketShortcode=".concat(e)).then((e=>{window.localStorage.removeItem("basketShortcode")})).catch((e=>{}));let s=JSON.parse(window.localStorage.getItem("basketData"));this.setState({basketDataForSimilarItems:s}),n().post("/api/similarItems",{basketData:s}).then((e=>{this.setState({similarItems:e.data})})).catch((()=>!1));let a=l.t.getCookie("errorMessage");l.t.deleteCookie("errorMessage"),a&&this.setState({errorPay:a.replace(/[+]/g," ")})}clickTryAgain(){window.localStorage.setItem("paymentFailedTryAgain",!0)}render(){return(0,o.jsxs)("div",{className:"paymentPage",children:[(0,o.jsx)("div",{className:"container",children:(0,o.jsx)("div",{className:"col-sm-8 col-sm-push-2",children:(0,o.jsxs)("div",{className:"wrapWindow text-center",children:[(0,o.jsx)("div",{className:"circle false"}),(0,o.jsx)("p",{className:"bigText",children:this.props.errorText}),(0,o.jsx)("p",{className:"smallText",children:this.state.errorPay}),(0,o.jsxs)(r.rU,{to:"/warenkorb",onClick:this.clickTryAgain,className:"btn false",children:["erneut versuchen",(0,o.jsx)("span",{children:(0,o.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})]})})}),!window.isMobile&&(0,o.jsx)("div",{className:"similar",children:(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)(c.Z,{similarItems:this.state.similarItems}),(0,o.jsx)("div",{className:"cb"})]})})]})}}d.defaultProps={errorText:"Fehlerhafte Zahlung"};const h=d},69947:(e,s,a)=>{a.d(s,{Z:()=>m});var i=a(47313),n=a(78081),t=a(72231),r=a(44021),l=a(72905),c=a(73815),o=a(22667),d=a(46417);class h extends i.Component{constructor(e){super(e),this.gtagEnhancedEcommerce=(e,s)=>{let a=e.criterias.find((e=>"manufacturer"===e.id)).values,i=a.length?a[0].name:"",n=[{id:e.shortcode,name:e.descriptionLong||e.model||"",list_name:"Kaufen",quantity:1,brand:i,price:e.discountPrice||e.price,category:e.categoryName}];if("select_content"==s){gtag("event",s,{content_type:"product",items:n});let a={category:e.categoryName};window.localStorage.setItem("gtag",JSON.stringify(a))}else gtag("event",s,{items:n})},this.clickOnLink=(e,s)=>{"BUTTON"===e.target.tagName?e.preventDefault():window.isGoogleConnection&&this.gtagEnhancedEcommerce(s,"select_content")},this.state={},this.mapSimilarItems=this.mapSimilarItems.bind(this),this.addModelToBasket=this.addModelToBasket.bind(this)}addModelToBasket(e,s){let a=e.target.getAttribute("data-status"),{basketData:i}=this.props,n=null,{accessoriesDetailPage:r}=this.props,l=r?3:7;n=i.every((e=>e.id!=s.id))?[...i,s]:i.filter((e=>e.shortcode!=s.shortcode&&e.productTypeId==l)),this.props.basketActions.changeBasketData(n),"out"===a&&(window.isGoogleConnection&&this.gtagEnhancedEcommerce(s,"add_to_cart"),window.isMobile?t.mW.push("/warenkorb"):(this.props.basketActions.basketAddEffect((0,d.jsx)(o.Z,{startPosition:$(e.target).offset(),image:s.colorImage,basketType:"kaufen"})),setTimeout((()=>{t.mW.push("/warenkorb"),this.props.basketActions.basketAddEffect(null)}),2e3)))}mapSimilarItems(e,s){let a="",{accessoriesDetailPage:i}=this.props;if(i){let s=e.model.split(" ").join("-").toLowerCase().replace(/\//g,"--"),i=e.deviceName.toLowerCase().replace(/ /g,"-");a="/kaufen/detail/zubehoer/".concat(i,"/").concat(s,"/").concat(e.shortcode)}else{let s=e.model.split(" ").join("-").toLowerCase(),i=e.color.toLowerCase()||"color",n=e.capacity.toLowerCase()||"capacity",t=e.deviceName.replace(/ /g,"-").toLowerCase();a="/kaufen/detail/".concat(t,"/").concat(s,"/").concat(n,"/").concat(i,"/").concat(e.shortcode)}return(0,d.jsx)("div",{className:"col-md-3 col-sm-6",children:(0,d.jsx)("div",{className:"itemModelWrap",children:(0,d.jsxs)(t.rU,{to:a,onClick:s=>this.clickOnLink(s,e),children:[(0,d.jsxs)("div",{style:{width:"100%"},children:[(0,d.jsx)("div",{className:"image",children:(0,d.jsx)("img",{loading:"lazy",src:e.colorImage||e.deviceImages.mainImg.src,alt:""})}),(0,d.jsxs)("p",{className:"modelName",children:[e.model,e.extendedTitle&&" (".concat(e.extendedTitle,")")]}),!i&&(0,d.jsx)("div",{children:(0,d.jsxs)("span",{className:"modelValues",children:[(0,d.jsxs)("span",{children:[e.capacity,e.capacityImage&&(0,d.jsx)("img",{loading:"lazy",src:e.capacityImage,alt:""})]}),(0,d.jsxs)("span",{children:[e.color,"\xa0",e.colorCode&&(0,d.jsx)("span",{className:"colorPic",style:{backgroundColor:e.colorCode}})]})]})}),!i&&(0,d.jsxs)("p",{className:"condition",children:["Zustand: ",(0,d.jsx)("b",{children:e.condition})]})]}),(0,d.jsx)("div",{className:"bottomRow",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"col-xs-6 price",children:[(0,d.jsx)("p",{className:"price-head",children:"Preis"}),e.discountPrice&&(0,d.jsxs)("p",{className:"price-value discount-price",children:[e.discountPrice," ",window.currencyValue]}),(0,d.jsxs)("p",{className:e.discountPrice?"price-value old-price":"price-value",children:[e.price," ",window.currencyValue]})]}),(0,d.jsx)("div",{className:"col-xs-6 text-right",children:(0,d.jsx)("button",{"data-status":this.props.basketData.some((s=>s.id===e.id))?"in":"out",className:"btn addToBasket",onClick:s=>this.addModelToBasket(s,e)})})]})})]},s)})},s)}render(){let{similarItems:e}=this.props;return(0,d.jsx)("div",{children:e.length>0&&(0,d.jsxs)("div",{className:"listSimilarItems",children:[(0,d.jsx)("h2",{className:"tag",children:"Weitere Produkte"}),(0,d.jsx)("h2",{className:"head",children:"Folgendes k\xf6nnte Sie auch interessieren"}),(0,d.jsx)("div",{className:"row wrapItems",children:window.isMobile?(0,d.jsx)(r.Z,{dots:!0,arrows:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,children:e.map(this.mapSimilarItems)}):e.map(this.mapSimilarItems)})]})})}}h.defaultProps={accessoriesDetailPage:!1};const m=(0,n.$j)((function(e){return{basketData:e.basket.basketData}}),(function(e){return{basketActions:(0,l.DE)(c,e)}}))(h)},89054:(e,s,a)=>{a.r(s),a.d(s,{default:()=>P});var i=a(47313),n=a(72231),t=a(31881),r=a.n(t),l=a(23320),c=a(46417);const o=e=>{let{question:s}=e;return(0,c.jsx)(l.f,{animationIn:"fadeIn",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{children:"Remo"}),(0,c.jsxs)("div",{className:"question assistant",children:[(0,c.jsx)("img",{loading:"lazy",className:"assistant",src:"/images/design/assistantForQuestion-small.svg",alt:""}),(0,c.jsx)("span",{children:s})]})]})})};o.defaultProps={};const d=o,h=e=>{let{name:s,userAnswers:a,handleClickEditAnswer:i,criteriaId:n}=e;window.isMobile;return(0,c.jsx)(l.f,{animationIn:"fadeIn",children:(0,c.jsx)("div",{className:"wrapAnswer",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{children:"Ihre Angabe"}),"Model"===s?a[s].map((function(e,n){return(0,c.jsxs)("div",{className:"question client",onClick:()=>i(s,a[s]),children:[(0,c.jsxs)("span",{children:[e.name," ",e.nameExt?" (".concat(e.nameExt,")"):null]}),(0,c.jsx)("span",{className:"edit",children:(0,c.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"})})]},n)})):"Defects"===s?(0,c.jsxs)("div",{className:"question client",onClick:()=>i(s,a[s]),children:[(0,c.jsx)("span",{children:a[s].map((function(e,i){return(0,c.jsxs)("span",{children:[e["description-short"],i===a[s].length-1?"":", "]},i)}))}),(0,c.jsx)("span",{className:"edit",children:(0,c.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"})})]}):(0,c.jsxs)("div",{className:"question client",onClick:i&&(()=>i(s,a[s])),children:[(0,c.jsxs)("span",{children:[a[s].map((function(e,i){return(0,c.jsxs)("span",{children:[e.name,16!=n&&"Device"!==s&&e.image&&(0,c.jsx)("img",{loading:"lazy",src:e.image}),e.colorCode&&(0,c.jsx)("span",{className:"colorPic",style:{backgroundColor:e.colorCode}}),i===a[s].length-1?"":", "]},i)})),0===a[s].length&&"-"]}),i&&(0,c.jsx)("span",{className:"edit",children:(0,c.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"})})]})]})})})};h.defaultProps={};const m=h;var u=a(12279),p=a.n(u),x=a(86473),f=a.n(x);class w extends i.Component{constructor(e){super(e),this.renderSuggestion=e=>{let{value:s}=this.state;if(e.modelName.toLowerCase().indexOf(s.toLowerCase())>=0){let a=e.modelName.toLowerCase().indexOf(s.trim().toLowerCase()),i=e.modelName.slice(0,a);return i+='<span class="searchText">'+e.modelName.slice(a,a+s.length)+"</span>",i+=e.modelName.slice(a+s.length),(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:i}})}return(0,c.jsx)("span",{children:e.modelName})},this.onChange=(e,s)=>{let{newValue:a}=s;this.setState({value:a})},this.onSuggestionsFetchRequested=e=>{let{value:s}=e;this.debouncedLoadSuggestions(s)},this.onSuggestionSelected=(e,s)=>{let{suggestion:a}=s;axios.get("/api/searchSellModelsInfo?modelId=".concat(a.modelId)).then((e=>{this.props.setResults(e.data)})).catch((e=>{if(404===e.response.status){let e=window.isMobile?".invalidModel":".invalidModel .wrap";$(".invalidModel").css({display:"block"}),setTimeout((()=>$(e).css({opacity:"1"})),500),setTimeout((()=>{$(e).css({opacity:"0"}),setTimeout((()=>$(".invalidModel").css({display:"none"})),2500)}),5e3)}}))},this.onSuggestionsClearRequested=()=>{this.setState({suggestions:[]})},this.state={value:"",suggestions:[]},this.debouncedLoadSuggestions=p()(this.loadSuggestions,1e3)}componentWillMount(){}loadSuggestions(e){axios.get("/api/searchSellModels?needle=".concat(e)).then((e=>{this.setState({suggestions:e.data.results})}))}render(){const{value:e,suggestions:s}=this.state,a={placeholder:"Modell suchen",value:e,onChange:this.onChange};return(0,c.jsxs)("div",{className:"searchBar",children:[(0,c.jsx)(f(),{suggestions:s,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:j,renderSuggestion:this.renderSuggestion,inputProps:a}),(0,c.jsx)("div",{className:"invalidModel",children:(0,c.jsx)("div",{className:"wrap",children:(0,c.jsx)("p",{children:"Leider kaufen wir dieses Modell nicht an"})})})]})}}w.defaultProps={};const g=w,j=e=>e.modelName;class N extends i.Component{constructor(e){super(e),this.state={animate:!1},this.mapQuestionsCriterias=this.mapQuestionsCriterias.bind(this),this.mapQuestionsDamages=this.mapQuestionsDamages.bind(this),this._animateAnswersField=this._animateAnswersField.bind(this)}componentWillReceiveProps(e){e.userAnswers!==this.props.userAnswers?this.setState({animate:!0}):this.setState({animate:!1})}componentDidUpdate(){Object.keys(this.props.userAnswers).length>0&&this.state.animate&&!this.props.showLastQuestion&&this._animateAnswersField()}_animateAnswersField(){$(".answersField").stop();let e=$(".answersField").hasClass("withSearch")?80:30,s=$(".answersField").outerHeight()-e,a=0,i=0;$(".answersField .itemAnswer").each((function(){a+=$(this).outerHeight()+15,$(this).outerHeight()>i&&(i=$(this).outerHeight()+15)})),a-2*i>s?setTimeout((()=>$(".answersField").css({paddingTop:"30px"})),1501):$(".answersField").css({paddingTop:s-i+"px"}),$(".answersField").animate({scrollTop:$(".answersField").prop("scrollHeight")},1500),$(".itemAnswer").first().css({transform:"translateY(0)"})}mapQuestionsCriterias(){let{criteriasList:e}=this.props;return e.map(((e,s)=>{if(e.activeAnswersField&&this.props.userAnswers[e.name.toLowerCase()])return(0,c.jsxs)("div",{className:"row itemAnswer",children:[(0,c.jsx)(d,{question:e.question}),(0,c.jsx)(m,{name:e.name.toLowerCase(),criteriaId:e.id,handleClickEditAnswer:this.props.handleClickEditAnswer,userAnswers:this.props.userAnswers})]},s)}))}mapQuestionsDamages(){return(0,c.jsxs)("div",{className:"row itemAnswer",children:[(0,c.jsx)(d,{question:"Was ist bei Ihrem Ger\xe4t mangelhaft und/oder defekt?"}),(0,c.jsx)(m,{name:"Defects",handleClickEditAnswer:this.props.handleClickEditAnswer,userAnswers:this.props.userAnswers})]})}render(){return(0,c.jsx)("div",{className:"col-md-12",children:(0,c.jsxs)("div",{className:"answersField",children:[Object.keys(this.props.userAnswers).length<=0&&(0,c.jsxs)("div",{className:"image",children:[(0,c.jsx)("img",{loading:"lazy",src:"/images/design/no-result-answersField.svg",alt:""}),(0,c.jsx)("p",{children:"Keine Angaben bis jetzt"})]}),this.props.showSearchBar&&(0,c.jsx)(g,{showButton:!0,setResults:this.props.setResults}),(0,c.jsxs)("div",{children:[this.props.userAnswers.Device&&(0,c.jsxs)("div",{className:"row itemAnswer",children:[(0,c.jsx)(d,{question:(0,c.jsx)("span",{children:"Welchen Ger\xe4tetyp haben Sie?"})}),(0,c.jsx)(m,{name:"Device",handleClickEditAnswer:this.props.handleClickEditAnswer,userAnswers:this.props.userAnswers})]}),this.props.userAnswers.Brand&&(0,c.jsxs)("div",{className:"row itemAnswer",children:[(0,c.jsx)(d,{question:(0,c.jsxs)("span",{children:["Von welcher Marke ist Ihr"," ",this.props.userAnswers.Device[0].name,"?"]})}),(0,c.jsx)(m,{name:"Brand",handleClickEditAnswer:this.props.handleClickEditAnswer,userAnswers:this.props.userAnswers})]}),this.props.userAnswers.Submodel&&(0,c.jsxs)("div",{className:"row itemAnswer",children:[(0,c.jsx)(d,{question:(0,c.jsxs)("span",{children:["Welches ",this.props.userAnswers.Brand[0].name," Untermodell haben Sie?"]})}),(0,c.jsx)(m,{name:"Submodel",handleClickEditAnswer:this.props.handleClickEditAnswer,userAnswers:this.props.userAnswers})]}),this.props.userAnswers.Model&&(0,c.jsxs)("div",{className:"row itemAnswer",children:[(0,c.jsx)(d,{question:(0,c.jsxs)("span",{children:["Welches ",this.props.userAnswers.Brand[0].name," Modell haben Sie?"]})}),(0,c.jsx)(m,{name:"Model",handleClickEditAnswer:this.props.handleClickEditAnswer,userAnswers:this.props.userAnswers})]}),this.props.userAnswers.Condition&&(0,c.jsxs)("div",{className:"row itemAnswer",children:[(0,c.jsx)(d,{question:(0,c.jsx)("span",{children:"In welchem allgemeinen Zustand ist Ihr Ger\xe4t?"})}),(0,c.jsx)(m,{name:"Condition",handleClickEditAnswer:this.props.handleClickEditAnswer,userAnswers:this.props.userAnswers})]}),this.props.userAnswers.Defects&&this.mapQuestionsDamages(),this.mapQuestionsCriterias()]}),this.props.userAnswers.newOffer&&(0,c.jsxs)("div",{className:"row itemAnswer",children:[(0,c.jsx)(d,{question:(0,c.jsxs)("span",{children:["Guten Tag ",this.props.userData.gender," ",this.props.userData.name,", wir haben bei Ihrem Ankauf eine Abweichung der eingesendeten Angaben gefunden und offerieren Ihnen einen neuen Preis",this.props.showButton&&(0,c.jsx)("button",{className:"btn",onClick:this.props.viewNewOffer,children:"Neue Angebot ansehen"})]})}),this.props.userAnswers.newOffer.length>0&&(0,c.jsx)(m,{name:"newOffer",userAnswers:this.props.userAnswers})]})]})})}}N.defaultProps={};const v=N,k=e=>{let{userAnswers:s,handleClickEditAnswer:a,criteriasList:i=[]}=e,n="";i.forEach((e=>{16==e.id&&(n=e.name.toLowerCase())}));let t=window.domainName.name.split(".")[window.domainName.name.split(".").length-1];return(0,c.jsxs)("aside",{children:[(0,c.jsxs)("div",{className:"assistent",children:[(0,c.jsx)("div",{className:"image",children:(0,c.jsx)("img",{loading:"lazy",src:"/images/design/assistant_icon.svg",alt:""})}),(0,c.jsxs)("h4",{children:["de"===t?"Hallo":"Gr\xfcezi",", ich bin Remo"]}),(0,c.jsx)("p",{children:"Freue mich Ihnen beim verkaufen Ihrer Ger\xe4te behilflich sein zu k\xf6nnen."})]}),(0,c.jsx)("h6",{className:"yourChoices",children:"Ihre Angaben"}),(0,c.jsx)("div",{className:"userAnswers",children:function(){let e=[];for(let i in s){let t="";switch(i){case"Device":t="Ger\xe4tetyp";break;case"Brand":t="Marke";break;case"Submodel":t="Untermodell";break;case"Model":t="Modell";break;case"Condition":t="Allgemeiner Zustand";break;case"Defects":t="Liste der Defekte";break;default:t=i}"image"===i?e.unshift((0,c.jsx)("div",{className:"itemAnswer",children:(0,c.jsx)("img",{loading:"lazy",className:"modelImg",src:s[i],alt:""})},i)):"comment"!==i&&"Defects"!==i?e.push((0,c.jsxs)("div",{className:"itemAnswer",children:[(0,c.jsx)("h6",{children:t}),(0,c.jsxs)("ul",{children:[s[i].map(((e,s)=>(0,c.jsxs)("li",{children:[e.name,i!==n&&"Model"!==i&&"Device"!==i&&e.image&&(0,c.jsx)("img",{loading:"lazy",src:e.image}),e.colorCode&&(0,c.jsx)("span",{className:"colorPic",style:{backgroundColor:e.colorCode}}),e.nameExt?" (".concat(e.nameExt,")"):null]},s))),0===s[i].length&&(0,c.jsx)("li",{children:"-"})]}),(0,c.jsx)("span",{className:"edit",onClick:()=>a(i,s[i]),children:(0,c.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"})})]},i)):"Defects"===i&&e.push((0,c.jsxs)("div",{className:"itemAnswer",children:[(0,c.jsx)("h6",{children:t}),(0,c.jsx)("ul",{children:s[i].map(((e,s)=>(0,c.jsx)("li",{children:e["description-short"]},s)))}),(0,c.jsx)("span",{className:"edit",onClick:()=>a(i),children:(0,c.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"})})]},i))}return e.length>0?e:(0,c.jsxs)("div",{className:"noChoices",children:[(0,c.jsx)("img",{loading:"lazy",src:"/images/design/no-result-aside.svg",alt:""}),(0,c.jsx)("p",{children:"Keine Angaben bis jetzt"})]})}()})]})};k.defaultProps={};const b=k,A=e=>{let{oldOffer:s,newOffer:a,oldPrice:i,newPrice:n,image:t,comment:r,acceptOffer:l,declineOffer:o,couponTotal:d=0}=e;function h(e){let s=e.map(((e,s)=>{let a=e.changes?"changed":"";return(0,c.jsxs)("div",{className:"col-sm-4 itemAnswer",children:[(0,c.jsx)("p",{className:"title",children:e.name}),(0,c.jsx)("ul",{children:e.values.map(((e,s)=>(0,c.jsx)("li",{className:a,children:e},s)))}),(0,c.jsx)("div",{className:"clearfix"})]},s)}));return s.reduce((function(e,s,a){return a%3===0&&e.push([]),e[e.length-1].push(s),e}),[]).map((function(e,s){return(0,c.jsx)("div",{className:"row",children:e},s)}))}return(0,c.jsx)("div",{className:"modal fade bs-example-modal-lg",id:"modalCounterOffer",tabIndex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel",children:(0,c.jsxs)("div",{className:"modal-dialog modal-lg",role:"document",children:[(0,c.jsx)("div",{className:"btnCloseModal","data-dismiss":"modal",onClick:()=>$("#modalCounterOffer").modal("hide"),children:(0,c.jsx)("i",{className:"fa fa-times","aria-hidden":"true"})}),(0,c.jsx)("div",{className:"modal-content",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-sm-7 left-part",children:(0,c.jsxs)("div",{className:"wrap",children:[(0,c.jsx)("div",{className:"col-sm-5",children:(0,c.jsx)("div",{className:"image",children:(0,c.jsx)("img",{loading:"lazy",src:"/images/design/guy-banner.svg",alt:""})})}),(0,c.jsxs)("div",{className:"col-sm-7 counter-offer",children:[(0,c.jsx)("h1",{children:"Gegenofferte"}),(0,c.jsxs)("div",{className:"say",children:[(0,c.jsx)("p",{children:"Wir haben bei Ihrem Ankauf eine Abweichung der eingesendeten Angaben gefunden und offerieren Ihnen einen neuen Preis. Sie k\xf6nnen diesen akzeptieren oder ablehnen."}),r&&(0,c.jsxs)("p",{children:[(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("h4",{children:"Kommentar:"})," ",r]})]}),(0,c.jsxs)("div",{className:"price",children:[(0,c.jsx)("h3",{className:"title",children:"Neues Angebot"}),(0,c.jsxs)("p",{className:"newPrice",children:[n," ",window.currencyValue]}),(0,c.jsxs)("p",{className:"oldPrice",children:[i," ",window.currencyValue]})]}),0!==parseFloat(d)&&(0,c.jsxs)("div",{className:"coupon",children:[(0,c.jsxs)("div",{className:"coupon-left",children:[(0,c.jsx)("h3",{className:"title",children:"Ihr Gutschein"}),(0,c.jsxs)("div",{className:"image",children:[(0,c.jsx)("img",{loading:"lazy",src:"/images/design/counter_coupon.png",alt:""}),(0,c.jsxs)("div",{className:"couponPrice",children:["+".concat(d)," ",window.currencyValue]})]})]}),(0,c.jsxs)("div",{className:"coupon-right",children:[(0,c.jsx)("h3",{className:"title",children:"Total"}),(0,c.jsxs)("p",{className:"newPrice",children:[(parseFloat(n)+parseFloat(d)).toFixed(2)," ",window.currencyValue]}),(0,c.jsxs)("p",{className:"oldPrice",children:[n," ",window.currencyValue]})]})]})]})]})}),(0,c.jsxs)("div",{className:"col-sm-5 col-sm-push-7",children:[(0,c.jsxs)("div",{className:"criterias",children:[(0,c.jsx)("div",{className:"image",children:(0,c.jsx)("img",{loading:"lazy",src:t,alt:""})}),(0,c.jsxs)("div",{className:"wrapAnswers oldOffer clearfix",children:[(0,c.jsx)("h1",{className:"title",children:"Ihre Beschreibung"}),h(s)]}),(0,c.jsxs)("div",{className:"wrapAnswers newOffer clearfix",children:[(0,c.jsx)("h1",{className:"title",children:"Gepr\xfcfter Zustand"}),h(a)]})]}),(0,c.jsxs)("div",{className:"text-left buttons",children:[(0,c.jsxs)("button",{className:"btn",onClick:l,children:["Akzeptieren, Ger\xe4t verkaufen",(0,c.jsx)("span",{children:(0,c.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]}),(0,c.jsx)("p",{className:"decline",children:(0,c.jsx)("span",{onClick:o,children:"Nicht akzeptieren, Ger\xe4t zur\xfccksenden"})})]})]})]})})]})})};A.defaultProps={};const C=A,y=e=>{let{oldOffer:s,newOffer:a,oldPrice:i,newPrice:n,image:t,comment:r,acceptOffer:l,declineOffer:o,couponTotal:d=0}=e;function h(e){let s=e.map(((e,s)=>{let a=e.changes?"changed":"";return(0,c.jsxs)("div",{className:"col-xs-4 itemAnswer",children:[(0,c.jsx)("p",{className:"title",children:e.name}),(0,c.jsx)("ul",{children:e.values.map(((e,s)=>(0,c.jsx)("li",{className:a,children:e},s)))}),(0,c.jsx)("div",{className:"clearfix"})]},s)}));return s.reduce((function(e,s,a){return a%3===0&&e.push([]),e[e.length-1].push(s),e}),[]).map((function(e,s){return(0,c.jsx)("div",{className:"row",children:e},s)}))}return(0,c.jsxs)("div",{className:"newOfferResults",children:[(0,c.jsxs)("div",{className:"description clearfix",children:[(0,c.jsx)("div",{className:"image",children:(0,c.jsx)("img",{loading:"lazy",src:"/images/design/guy-banner.svg",alt:""})}),(0,c.jsxs)("div",{className:"col-xs-7 col-xs-push-5 counter-offer",children:[(0,c.jsx)("h1",{children:"Gegenofferte"}),(0,c.jsx)("p",{children:"Wir haben bei Ihrem Ankauf eine Abweichung der eingesendeten Angaben gefunden und offerieren Ihnen einen neuen Preis. Sie k\xf6nnen diesen akzeptieren oder ablehnen."}),r&&(0,c.jsxs)("p",{children:[(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("strong",{children:"Kommentar:"})," ",r]})]})]}),(0,c.jsxs)("div",{className:"price",children:[(0,c.jsx)("h3",{className:"title",children:"Neues Angebot"}),(0,c.jsxs)("p",{className:"newPrice",children:[n," ",window.currencyValue]}),(0,c.jsxs)("p",{className:"oldPrice",children:[i," ",window.currencyValue]})]}),0!==parseFloat(d)&&(0,c.jsxs)("div",{className:"coupon",children:[(0,c.jsxs)("div",{className:"coupon-left",children:[(0,c.jsx)("h3",{className:"title",children:"Ihr Gutschein"}),(0,c.jsxs)("div",{className:"image",children:[(0,c.jsx)("img",{loading:"lazy",src:"/images/design/counter_coupon.png",alt:""}),(0,c.jsxs)("div",{className:"couponPrice",children:["+".concat(d)," ",window.currencyValue]})]})]}),(0,c.jsxs)("div",{className:"coupon-right",children:[(0,c.jsx)("h3",{className:"title",children:"Total"}),(0,c.jsxs)("p",{className:"newPrice",children:[(parseFloat(n)+parseFloat(d)).toFixed(2)," ",window.currencyValue]}),(0,c.jsxs)("p",{className:"oldPrice",children:[n," ",window.currencyValue]})]})]}),(0,c.jsx)("div",{className:"imageDevice",children:(0,c.jsx)("img",{loading:"lazy",src:t})}),(0,c.jsxs)("div",{className:"wrapAnswers oldOffer clearfix",children:[(0,c.jsx)("h1",{className:"title",children:"Ihre Beschreibung"}),h(s)]}),(0,c.jsxs)("div",{className:"wrapAnswers newOffer clearfix",children:[(0,c.jsx)("h1",{className:"title",children:"Gepr\xfcfter Zustand"}),h(a)]}),(0,c.jsxs)("div",{className:"buttons",children:[(0,c.jsx)("button",{className:"btn",onClick:l,children:"Akzeptieren, Ger\xe4t verkaufen"}),(0,c.jsx)("p",{className:"decline",children:(0,c.jsx)("span",{onClick:o,children:"Nicht akzeptieren, Ger\xe4t zur\xfccksenden"})})]})]})};y.defaultProps={};const O=y;var I=a(87426);class S extends i.Component{constructor(e){super(e),this.state={userAnswers:{},userData:{gender:"",name:""},price:{newPrice:"",oldPrice:""},image:"",comment:"",newOffer:[],oldOffer:[],modelData:{},couponTotal:0,showButton:!1,invalidShortcode:{show:!1,text:""}},this.viewNewOffer=this.viewNewOffer.bind(this),this.acceptOffer=this.acceptOffer.bind(this),this.acceptOffer=this.acceptOffer.bind(this),this.declineOffer=this.declineOffer.bind(this),this.modalCounterOfferDeclainedClose=this.modalCounterOfferDeclainedClose.bind(this),this.modalCounterOfferAcceptClose=this.modalCounterOfferAcceptClose.bind(this)}componentDidMount(){let{shortcode:e}=this.props.params;document.getElementById("spinner-box-load").style.display="block",r().get("/api/counterOffer?shortcode=".concat(e)).then((e=>{if(document.getElementById("spinner-box-load").style.display="none",3===e.data.status||4===e.data.status){let s=3===e.data.status?"Vielen Dank, wir werden Ihnen den Betrag in K\xfcrze Ihrem Bankkonto gutschreiben.":"Vielen Dank, wir werden Ihnen in K\xfcrze das Ger\xe4t auf dem Postweg kostenlos retournieren.";this.setState({userAnswers:{...this.state.userAnswers,newOffer:[{name:s}]},userData:{...this.state.userData,gender:e.data.gender,name:e.data.firstName}}),$(".newOfferResults").hide(),$(".part-left").show()}else $("#modalCounterOffer").modal("show"),$(".newOfferResults").show(),this.setState({userAnswers:{...this.state.userAnswers,newOffer:[]},userData:{...this.state.userData,gender:e.data.gender,name:e.data.firstName},price:{...this.state.price,newPrice:e.data.newPrice,oldPrice:e.data.oldPrice},newOffer:e.data.newOffer,oldOffer:e.data.oldOffer,image:e.data.image,comment:e.data.comment,modelData:e.data.modelData,couponTotal:e.data.couponTotal,showButton:!0})})).catch((e=>{404===e.response.status&&(document.getElementById("spinner-box-load").style.display="none",this.setState({invalidShortcode:{...this.state.invalidShortcode,show:!0,errorText:e.response.data}}))}))}viewNewOffer(){$("#modalCounterOffer").modal("show")}acceptOffer(){document.getElementById("spinner-box-load").style.display="block",r().get("/api/counterOfferAnswer?shortcode=".concat(this.props.params.shortcode,"&answer=1")).then((e=>{document.getElementById("spinner-box-load").style.display="none";this.setState({userAnswers:{...this.state.userAnswers,newOffer:[{name:"Vielen Dank, wir werden Ihnen Betrag in K\xfcrze Ihrem Bankkonto gutschreiben."}]},showButton:!1}),$("#modalCounterOffer").modal("hide"),$("#modalCounterOfferDeclained").modal("hide"),$("#modalCounterOfferAccepter").modal("show")}))}declineOffer(){document.getElementById("spinner-box-load").style.display="block",r().get("/api/counterOfferAnswer?shortcode=".concat(this.props.params.shortcode,"&answer=0")).then((e=>{document.getElementById("spinner-box-load").style.display="none";this.setState({userAnswers:{...this.state.userAnswers,newOffer:[{name:"Vielen Dank, wir werden Ihnen in K\xfcrze das Ger\xe4t auf dem Postweg kostenlos retournieren."}]},showButton:!1}),$("#modalCounterOffer").modal("hide"),$("#modalCounterOfferDeclained").modal("show")}))}modalCounterOfferAcceptClose(){$("#modalCounterOfferAccepter").modal("hide"),window.isMobile&&($(".newOfferResults").hide(),$(".part-left").show())}modalCounterOfferDeclainedClose(){$("#modalCounterOfferDeclained").modal("hide"),window.isMobile&&($(".newOfferResults").hide(),$(".part-left").show())}render(){let{userData:e,showButton:s,newOffer:a,oldOffer:i,price:t,image:r,comment:l,modelData:o,couponTotal:d,invalidShortcode:h}=this.state,m=[],u=[];return i.map((e=>{a.find((s=>{e.name==s.name&&(m=[...m,s])}))})),a.map((e=>{m.some((s=>s.name==e.name))||(u=[...u,e])})),m=[...m,...u],(0,c.jsxs)("div",{className:"sellPage newCounterOffer",children:[!h.show&&(0,c.jsxs)("div",{className:"sellPage-wrap",children:[(0,c.jsx)("div",{className:"part-left",children:(0,c.jsx)(v,{showQuestion:{},showLastQuestion:!0,showButton:s,userData:e,viewNewOffer:this.viewNewOffer,userAnswers:this.state.userAnswers,criteriasList:[],conditionQuestion:{}})}),(0,c.jsx)(b,{userAnswers:{}})]}),h.show&&(0,c.jsx)(I.default,{errorText:h.errorText}),window.isMobile?(0,c.jsx)(O,{oldPrice:t.oldPrice,newPrice:t.newPrice,image:r,comment:l,acceptOffer:this.acceptOffer,declineOffer:this.declineOffer,newOffer:m,couponTotal:d,oldOffer:i}):(0,c.jsx)(C,{oldPrice:t.oldPrice,newPrice:t.newPrice,image:r,comment:l,acceptOffer:this.acceptOffer,declineOffer:this.declineOffer,newOffer:m,couponTotal:d,oldOffer:i}),(0,c.jsx)("div",{className:"modal fade",tabIndex:"-1",id:"modalCounterOfferDeclained",role:"dialog","aria-labelledby":"myModalLabel",children:(0,c.jsxs)("div",{className:"modal-dialog",role:"document",children:[(0,c.jsx)("div",{className:"btnCloseModal","data-dismiss":"modal","data-backdrop":"static",onClick:this.modalCounterOfferDeclainedClose,children:(0,c.jsx)("i",{className:"fa fa-times","aria-hidden":"true"})}),(0,c.jsx)("div",{className:"modal-content",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"paymentPage",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsxs)("div",{className:"wrapWindow text-center",children:[(0,c.jsx)("div",{className:"circle false"}),(0,c.jsx)("p",{className:"bigText",children:"Neues Angebot nicht akzeptiert!"}),(0,c.jsx)("p",{className:"smallText",children:"Vielen Dank, wir werden Ihnen in K\xfcrze das Ger\xe4t auf dem Postweg kostenlos retournieren. Das ist die letzte Gelegenheit Ihrer Entscheidung zu \xe4ndern."}),(0,c.jsx)("div",{className:"wrapBasketItems",children:(0,c.jsxs)("div",{className:"itemModel",children:[(0,c.jsxs)("div",{className:"model",children:[(0,c.jsx)("p",{children:o.name}),(0,c.jsxs)("p",{children:[o.color,", ",o.capacity]})]}),(0,c.jsx)("div",{className:"price",children:(0,c.jsxs)("p",{children:[t.newPrice,window.currencyValue]})})]})}),(0,c.jsxs)("div",{className:"buttons",children:[(0,c.jsx)("span",{onClick:this.acceptOffer,children:"Ja, Offerte akzeptieren"}),(0,c.jsx)("span",{onClick:this.modalCounterOfferDeclainedClose,className:"accept",children:"Nein, senden Sie mir das Ger\xe4t zur\xfcck"})]})]})})})})})})]})}),(0,c.jsx)("div",{className:"modal fade",tabIndex:"-1",id:"modalCounterOfferAccepter",role:"dialog","aria-labelledby":"myModalLabel",children:(0,c.jsxs)("div",{className:"modal-dialog",role:"document",children:[(0,c.jsx)("div",{className:"btnCloseModal","data-dismiss":"modal","data-backdrop":"static",onClick:this.modalCounterOfferAcceptClose,children:(0,c.jsx)("i",{className:"fa fa-times","aria-hidden":"true"})}),(0,c.jsx)("div",{className:"modal-content",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"paymentPage",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsxs)("div",{className:"wrapWindow text-center",children:[(0,c.jsx)("div",{className:"circle ok"}),(0,c.jsx)("p",{className:"bigText",children:"Neues Angebot akzeptiert!"}),(0,c.jsx)("p",{className:"smallText",children:"Vielen Dank f\xfcr die Best\xe4tigung. Wir werden Ihnen in K\xfcrze den Betrag auf Ihr Bankkonto gutschreiben. Sie k\xf6nnen den Status jederzeit \xfcber Ihr Kundenkonto verfolgen!"}),(0,c.jsx)("div",{className:"wrapBasketItems",children:(0,c.jsxs)("div",{className:"itemModel",children:[(0,c.jsxs)("div",{className:"model",children:[(0,c.jsx)("p",{children:o.name}),(0,c.jsxs)("p",{children:[o.color,", ",o.capacity]})]}),(0,c.jsx)("div",{className:"price",children:(0,c.jsxs)("p",{children:[t.newPrice,window.currencyValue]})})]})}),(0,c.jsx)("div",{className:"buttons",children:(0,c.jsxs)(n.rU,{to:"/kundenkonto",onClick:()=>$("#modalCounterOfferAccepter").modal("hide"),className:"btn",children:["Im Detail ansehen",(0,c.jsx)("span",{children:(0,c.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})})]})})})})})})]})})]})}}S.defaultProps={};const P=S}}]);
"use strict";(self.webpackChunkassessment=self.webpackChunkassessment||[]).push([[8977],{8097:(e,s,a)=>{a.r(s),a.d(s,{OverviewOrders:()=>R,default:()=>K});var r=a(47313),l=a(72231),c=a(31881),n=a.n(c),t=a(39157),i=a(78081),d=a(46417);const o=e=>{let{data:s,acceptOffer:a,showPriceWithCoupon:r,coupon:l}=e;return(0,d.jsx)("div",{children:s.map((function(e,s){let c="statusBarVerkaufen statusId-".concat(e.statusId),n="statusTypeVerkaufen statusId-".concat(e.statusId),t=l.price&&!e.counterOfferLink&&r;return(0,d.jsxs)("div",{className:"item-model clearfix",children:[(0,d.jsxs)("div",{className:"col-md-12",children:[(0,d.jsx)("div",{className:"col-sm-2 col-xs-6",children:(0,d.jsx)("img",{loading:"lazy",src:e.image,alt:""})}),(0,d.jsxs)("div",{className:"col-sm-10",children:[(0,d.jsxs)("div",{className:"itemWrap clearfix",children:[(0,d.jsxs)("div",{className:"col-xs-9",children:[(0,d.jsxs)("span",{className:"modelName",children:[e.model,e.extendedTitle&&" (".concat(e.extendedTitle,")")]}),(0,d.jsxs)("span",{className:"modelValues",children:[(0,d.jsx)("span",{children:e.capacity}),e.color&&(0,d.jsxs)("span",{children:[e.color,"\xa0",e.colorCode&&(0,d.jsx)("span",{className:"colorPic",style:{backgroundColor:e.colorCode}})]})]})]}),(0,d.jsx)("div",{className:"col-xs-3",children:(0,d.jsxs)("div",{className:"status",children:[(0,d.jsx)("div",{className:n,children:e.status}),100!==e.statusId&&6!==e.statusId&&(0,d.jsx)("div",{className:"status_bar",children:(0,d.jsx)("div",{className:c})})]})})]}),(0,d.jsxs)("div",{className:"itemWrap clearfix",children:[(0,d.jsx)("div",{className:"col-xs-9",children:(0,d.jsxs)("span",{className:"modelValues-small",children:[(0,d.jsx)("span",{children:"Allgemeiner Zustand:"}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{children:[" ",(0,d.jsx)("b",{children:e.criteriaCategory})]})]})}),(0,d.jsx)("div",{className:"col-xs-3",children:(0,d.jsxs)("span",{className:"price",children:[e.counterOfferLink&&(0,d.jsxs)("p",{className:"oldPrice",children:[e.oldPrice," ",window.currencyValue]}),(0,d.jsx)("span",{className:"title",children:"Preis"}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{className:t?"priceWithoutCoupon":"",children:[e.calculatedPrice," ",window.currencyValue]}),t&&(0,d.jsxs)("span",{className:"priceWithCoupon",children:[+e.calculatedPrice+ +l.price," ",window.currencyValue]})]})})]}),e.counterOfferLink&&(0,d.jsxs)("div",{className:"itemWrap counterOfferWrap clearfix",children:[(0,d.jsx)("div",{className:"col-xs-9 text-right",children:e.counterOfferLink&&(0,d.jsx)("button",{className:"btn",onClick:()=>a(e.purchaseShortcode),children:"Neues Angebot akzeptieren"})}),(0,d.jsx)("div",{className:"col-xs-3",children:e.counterOfferLink&&(0,d.jsx)("a",{className:"counterOffer",href:e.counterOfferLink,target:"_blank",children:"Gegenofferte ansehen"})})]})]})]}),(0,d.jsxs)("div",{className:"col-md-12",children:[(0,d.jsxs)("span",{className:"shortcode",children:["ID: ",e.purchaseShortcode," /\xa0"]}),(0,d.jsxs)("span",{className:"date",children:["Verkaufdatum: ",e.date]})]})]},s)}))})};o.defaultProps={};const h=o,m=e=>{let{data:s,acceptOffer:a,showPriceWithCoupon:r,coupon:l}=e;return(0,d.jsx)("div",{children:s.map((function(e,s){let c="statusBarVerkaufen statusId-".concat(e.statusId),n="statusTypeVerkaufen statusId-".concat(e.statusId),t=l.price&&!e.counterOfferLink&&r;return(0,d.jsxs)("div",{className:"item-model clearfix",children:[(0,d.jsxs)("div",{className:"col-md-12 clearfix",children:[(0,d.jsxs)("div",{className:"wrapLine clearfix",children:[(0,d.jsx)("div",{className:"col-xs-6 image",children:(0,d.jsx)("img",{loading:"lazy",src:e.image,alt:""})}),(0,d.jsx)("div",{className:"col-xs-6",children:(0,d.jsxs)("div",{className:"itemWrap clearfix",children:[(0,d.jsxs)("span",{className:"modelName",children:[e.model,e.extendedTitle&&" (".concat(e.extendedTitle,")")]}),(0,d.jsxs)("span",{className:"modelValues-small",children:[(0,d.jsx)("span",{children:"Allgemeiner Zustand:"}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{children:[" ",(0,d.jsx)("b",{children:e.criteriaCategory})]})]})]})})]}),(0,d.jsx)("div",{className:"itemWrap text-center clearfix",children:(0,d.jsxs)("span",{className:"modelValues",children:[(0,d.jsx)("span",{children:e.capacity}),e.color&&(0,d.jsxs)("span",{children:[e.color,"\xa0",e.colorCode&&(0,d.jsx)("span",{className:"colorPic",style:{backgroundColor:e.colorCode}})]})]})}),(0,d.jsxs)("div",{className:"wrapLine clearfix",children:[(0,d.jsx)("div",{className:"col-xs-6",children:(0,d.jsx)("div",{className:"itemWrap clearfix",children:(0,d.jsxs)("span",{className:"price",children:[e.counterOfferLink&&(0,d.jsxs)("p",{className:"oldPrice",children:[e.oldPrice," ",window.currencyValue]}),(0,d.jsx)("span",{className:"title",children:"Preis"}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{className:t?"priceWithoutCoupon":"",children:[e.calculatedPrice," ",window.currencyValue]}),t&&(0,d.jsxs)("span",{className:"priceWithCoupon",children:[+e.calculatedPrice+ +l.price," ",window.currencyValue]})]})})}),(0,d.jsx)("div",{className:"col-xs-6",children:(0,d.jsx)("div",{className:"itemWrap clearfix",children:(0,d.jsxs)("div",{className:"status",children:[(0,d.jsx)("div",{className:n,children:e.status}),100!==e.statusId&&6!==e.statusId&&(0,d.jsx)("div",{className:"status_bar",children:(0,d.jsx)("div",{className:c})})]})})})]})]}),e.counterOfferLink&&(0,d.jsxs)("div",{className:"itemWrap counterOfferWrap clearfix",children:[(0,d.jsx)("div",{className:"col-xs-12 text-left",children:e.counterOfferLink&&(0,d.jsx)("a",{className:"counterOffer",href:e.counterOfferLink,target:"_blank",children:"Gegenofferte ansehen"})}),(0,d.jsx)("div",{className:"col-xs-12 text-center",children:e.counterOfferLink&&(0,d.jsx)("button",{className:"btn",onClick:()=>a(e.purchaseShortcode),children:"Neues Angebot akzeptieren"})})]}),(0,d.jsx)("div",{className:"col-xs-12",children:(0,d.jsxs)("p",{className:"shortcode",children:[(0,d.jsxs)("span",{className:"shortcode",children:["ID: ",e.purchaseShortcode," /\xa0"]}),(0,d.jsxs)("span",{className:"date",children:["Verkaufdatum: ",e.date]})]})})]},s)}))})};m.defaultProps={};const x=m,u=e=>{let{data:s,printShippingDocuments:a,acceptOffer:r}=e;function l(){return a(s.devices,s.basketPayoutId)}return(0,d.jsx)("div",{className:"overview_orders_item_basket clearfix",children:window.isMobile?(0,d.jsxs)("div",{children:[(0,d.jsx)(x,{data:s.devices,coupon:s.coupon,showPriceWithCoupon:1===s.devices.length,acceptOffer:r}),(0,d.jsxs)("div",{className:"col-xs-12",children:[(0,d.jsx)("div",{className:"col-xs-12",children:(0,d.jsxs)("span",{className:"shortcode",children:["Auftragsnummer: ",s.shortcode]})}),(0,d.jsxs)("div",{className:"col-xs-12",children:[s.showShippingDocuments&&(0,d.jsx)("span",{className:"downloadPdf",onClick:l,children:"Versanddokumente herunterladen"}),s.trackingLink&&(0,d.jsx)("a",{href:s.trackingLink,className:"tracking",target:"_blank",children:"Paket verfolgen"})]})]})]}):(0,d.jsxs)("div",{children:[(0,d.jsx)(h,{data:s.devices,coupon:s.coupon,showPriceWithCoupon:1===s.devices.length,acceptOffer:r}),(0,d.jsxs)("div",{className:"col-xs-12",children:[(0,d.jsxs)("div",{className:"col-xs-9 text-right",children:[(0,d.jsxs)("span",{className:"shortcode",children:["Auftragsnummer: ",s.shortcode]}),s.showShippingDocuments&&(0,d.jsx)("span",{className:"downloadPdf",onClick:l,children:"Versanddokumente herunterladen"})]}),(0,d.jsx)("div",{className:"col-xs-3",children:s.trackingLink&&(0,d.jsx)("a",{href:s.trackingLink,className:"tracking",target:"_blank",children:"Paket verfolgen"})})]})]})})};u.defaultProps={};const p=u,j=e=>{let{dataVerkaufen:s,printShippingDocuments:a,msg:r,acceptOffer:l}=e;return(0,d.jsxs)("div",{className:"col-md-12",children:[(0,d.jsx)("div",{className:"header clearfix",children:(0,d.jsxs)("h1",{children:["Verkauft (",s.length,")"]})}),(0,d.jsx)("p",{className:"msgField",children:r}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-md-12 wrapBaskets",children:s.map(((e,s)=>(0,d.jsx)(p,{data:e,acceptOffer:l,printShippingDocuments:a},s)))})})]})};j.defaultProps={};const N=j,f=e=>{let{data:s}=e;return(0,d.jsx)("div",{children:s.map((function(e,s){let a="statusBarKaufen statusId-".concat(e.statusId),r="statusTypeKaufen statusId-".concat(e.statusId);return(0,d.jsxs)("div",{className:"item-model clearfix",children:[(0,d.jsxs)("div",{className:"col-md-12",children:[(0,d.jsx)("div",{className:"col-md-2",children:(0,d.jsx)("img",{loading:"lazy",src:e.image,alt:""})}),(0,d.jsxs)("div",{className:"col-md-10",children:[(0,d.jsxs)("div",{className:"itemWrap clearfix",children:[(0,d.jsxs)("div",{className:"col-xs-9",children:[(0,d.jsxs)("span",{className:"modelName",children:[e.model,e.extendedTitle&&" (".concat(e.extendedTitle,")")]}),(0,d.jsxs)("span",{className:"modelValues",children:[(0,d.jsx)("span",{children:e.capacity}),(0,d.jsxs)("span",{children:[e.color,"\xa0",e.colorCode&&(0,d.jsx)("span",{className:"colorPic",style:{backgroundColor:e.colorCode}})]})]})]}),(0,d.jsx)("div",{className:"col-xs-3",children:(0,d.jsxs)("div",{className:"status",children:[(0,d.jsx)("div",{className:r,children:e.status}),10!==e.statusId&&5!==e.statusId&&(0,d.jsx)("div",{className:"status_bar",children:(0,d.jsx)("div",{className:a})})]})})]}),(0,d.jsxs)("div",{className:"itemWrap clearfix",children:[(0,d.jsxs)("div",{className:"col-xs-9",children:[(0,d.jsxs)("span",{className:"modelValues-small",children:[(0,d.jsx)("span",{children:"Garantie:"}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:(0,d.jsx)("b",{children:e.warranty})})]}),(0,d.jsxs)("span",{className:"modelValues-small",children:[(0,d.jsx)("span",{children:"Allgemeiner Zustand:"}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{children:[" ",(0,d.jsx)("b",{children:e.condition})]})]})]}),(0,d.jsx)("div",{className:"col-xs-3",children:(0,d.jsxs)("span",{className:"price",children:[(0,d.jsx)("span",{className:"title",children:"Preis"}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{children:[e.price," ",window.currencyValue]})]})})]})]})]}),(0,d.jsxs)("div",{className:"col-md-12",children:[(0,d.jsxs)("span",{className:"shortcode",children:["ID: ",e.shortcode," /\xa0"]}),(0,d.jsxs)("span",{className:"date",children:["Kaufdatum: ",e.date]})]}),e.insuranceLink&&(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsx)("a",{href:e.insuranceLink,target:"_blank",className:"insuranceLink",children:"Download Garantiezertifikat"})})]},s)}))})};f.defaultProps={};const g=f,v=e=>{let{data:s}=e;return(0,d.jsx)("div",{children:s.map((function(e,s){let a="statusBarKaufen statusId-".concat(e.statusId),r="statusTypeKaufen statusId-".concat(e.statusId);return(0,d.jsxs)("div",{className:"item-model clearfix",children:[(0,d.jsxs)("div",{className:"col-md-12",children:[(0,d.jsxs)("div",{className:"wrapLine clearfix",children:[(0,d.jsx)("div",{className:"col-xs-6",children:(0,d.jsx)("img",{loading:"lazy",src:e.image,alt:""})}),(0,d.jsx)("div",{className:"col-xs-6",children:(0,d.jsxs)("div",{className:"itemWrap clearfix",children:[(0,d.jsxs)("span",{className:"modelName",children:[e.model,e.extendedTitle&&" (".concat(e.extendedTitle,")")]}),(0,d.jsxs)("span",{className:"modelValues-small",children:[(0,d.jsx)("span",{children:"Garantie:"}),(0,d.jsx)("br",{}),(0,d.jsx)("span",{children:(0,d.jsx)("b",{children:e.warranty})})]}),(0,d.jsxs)("span",{className:"modelValues-small",children:[(0,d.jsx)("span",{children:"Allgemeiner Zustand:"}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{children:[" ",(0,d.jsx)("b",{children:e.condition})]})]})]})})]}),(0,d.jsx)("div",{className:"itemWrap clearfix text-center",children:(0,d.jsxs)("span",{className:"modelValues",children:[(0,d.jsx)("span",{children:e.capacity}),(0,d.jsxs)("span",{children:[e.color,"\xa0",e.colorCode&&(0,d.jsx)("span",{className:"colorPic",style:{backgroundColor:e.colorCode}})]})]})}),(0,d.jsxs)("div",{className:"wrapLine clearfix",children:[(0,d.jsx)("div",{className:"col-xs-6",children:(0,d.jsx)("div",{className:"itemWrap clearfix",children:(0,d.jsxs)("span",{className:"price",children:[(0,d.jsx)("span",{className:"title",children:"Preis"}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{children:[e.price," ",window.currencyValue]})]})})}),(0,d.jsx)("div",{className:"col-xs-6",children:(0,d.jsx)("div",{className:"itemWrap clearfix",children:(0,d.jsxs)("div",{className:"status",children:[(0,d.jsx)("div",{className:r,children:e.status}),10!==e.statusId&&5!==e.statusId&&(0,d.jsx)("div",{className:"status_bar",children:(0,d.jsx)("div",{className:a})})]})})})]})]}),(0,d.jsx)("div",{className:"col-xs-12",children:(0,d.jsxs)("p",{className:"shortcode",children:[(0,d.jsxs)("span",{className:"shortcode",children:["ID: ",e.shortcode," /\xa0"]}),(0,d.jsxs)("span",{className:"date",children:["Kaufdatum: ",e.date]})]})}),e.insuranceLink&&(0,d.jsx)("div",{className:"col-xs-12",children:(0,d.jsx)("a",{href:e.insuranceLink,target:"_blank",className:"insuranceLink",children:"Download Garantiezertifikat"})})]},s)}))})};v.defaultProps={};const k=v,y=e=>{let{data:s,printShippingDocuments:a}=e;function r(){return a(s.shortcode)}return(0,d.jsx)("div",{className:"overview_orders_item_basket clearfix",children:window.isMobile?(0,d.jsxs)("div",{children:[(0,d.jsx)(k,{data:s.devices}),(0,d.jsxs)("div",{className:"col-xs-12",children:[(0,d.jsx)("div",{className:"col-xs-6",children:(0,d.jsxs)("span",{className:"shortcode",children:["Auftragsnummer: ",s.shortcode]})}),(0,d.jsxs)("div",{className:"col-xs-6",children:[s.trackingLink&&(0,d.jsx)("a",{href:s.trackingLink,className:"tracking",target:"_blank",children:"Paket verfolgen"}),s.showShippingDocuments&&(0,d.jsx)("span",{className:"downloadPdf",onClick:r,children:"Versanddokumente herunterladen"})]})]})]}):(0,d.jsxs)("div",{children:[(0,d.jsx)(g,{data:s.devices}),(0,d.jsxs)("div",{className:"col-xs-12",children:[(0,d.jsxs)("div",{className:"col-xs-9 text-right",children:[(0,d.jsxs)("span",{className:"shortcode",children:["Auftragsnummer: ",s.shortcode]}),s.showShippingDocuments&&(0,d.jsx)("span",{className:"downloadPdf",onClick:r,children:"Rechnung herunterladen"})]}),(0,d.jsx)("div",{className:"col-xs-3",children:s.trackingLink&&(0,d.jsx)("a",{href:s.trackingLink,className:"tracking",target:"_blank",children:"Paket verfolgen"})})]})]})})};y.defaultProps={};const b=y,w=e=>{let{dataKaufen:s,printShippingDocuments:a,msg:r}=e;return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"col-md-12",children:[(0,d.jsx)("div",{className:"header clearfix",children:(0,d.jsxs)("h1",{children:["Gekauft (",s.length,")"]})}),(0,d.jsx)("p",{className:"msgField",children:r}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-md-12 wrapBaskets",children:s.map(((e,s)=>(0,d.jsx)(b,{data:e,printShippingDocuments:a},s)))})})]})})};w.defaultProps={};const O=w,P=e=>{let{data:s}=e,a="statusBarRepair statusId-".concat(s.status.id),r="statusTypeRepair statusId-".concat(s.status.id);return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"item-model clearfix",children:(0,d.jsxs)("div",{className:"col-md-12",children:[(0,d.jsx)("div",{className:"col-md-2",children:(0,d.jsx)("img",{loading:"lazy",src:s.image||"/images/design/iPhone_7.svg",alt:""})}),(0,d.jsxs)("div",{className:"col-md-10",children:[(0,d.jsxs)("div",{className:"itemWrap clearfix",children:[(0,d.jsx)("div",{className:"col-xs-9",children:(0,d.jsx)("span",{className:"modelName",children:s.modelName})}),(0,d.jsx)("div",{className:"col-xs-3",children:(0,d.jsxs)("div",{className:"status",children:[(0,d.jsx)("div",{className:r,children:s.status.name}),(0,d.jsx)("div",{className:"status_bar",children:(0,d.jsx)("div",{className:a})})]})})]}),(0,d.jsxs)("div",{className:"itemWrap clearfix",children:[(0,d.jsx)("div",{className:"col-xs-9",children:(0,d.jsxs)("div",{className:"repair-options",children:[(0,d.jsx)("p",{className:"title",children:"Reparaturen"}),(0,d.jsx)("div",{className:"row",children:s.products.map((function(e,s){return(0,d.jsxs)("span",{className:"col-sm-12",children:["- ",e.name]},s)}))})]})}),(0,d.jsx)("div",{className:"col-xs-3",children:(0,d.jsxs)("span",{className:"price",children:[(0,d.jsx)("span",{className:"title",children:"Preis"}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{children:[s.totalPrice," ",window.currencyValue]})]})})]})]})]})}),(0,d.jsx)("div",{className:"col-xs-12 bottom-row",children:(0,d.jsxs)("div",{className:"col-xs-12",children:[(0,d.jsxs)("span",{className:"shortcode",children:["Auftragsnummer: ",s.shortcode]}),(0,d.jsxs)("span",{className:"date",children:["Auftragsdatum: ",s.date]})]})})]})};P.defaultProps={};const V=P,I=e=>{let{data:s}=e,a="statusBarRepair statusId-".concat(s.status.id),r="statusTypeRepair statusId-".concat(s.status.id);return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"item-model clearfix",children:(0,d.jsxs)("div",{className:"col-md-12 clearfix",children:[(0,d.jsxs)("div",{className:"wrapLine clearfix",children:[(0,d.jsx)("div",{className:"col-xs-6 image",children:(0,d.jsx)("img",{loading:"lazy",src:s.image||"/images/design/iPhone_7.svg",alt:""})}),(0,d.jsx)("div",{className:"col-xs-6",children:(0,d.jsx)("div",{className:"itemWrap clearfix",children:(0,d.jsx)("span",{className:"modelName",children:s.modelName})})})]}),(0,d.jsx)("div",{className:"itemWrap text-center clearfix",children:(0,d.jsxs)("div",{className:"repair-options",children:[(0,d.jsx)("p",{className:"title",children:"Reparaturen"}),(0,d.jsx)("div",{className:"row",children:s.products.map((function(e,s){return(0,d.jsxs)("span",{className:"col-xs-12",children:["- ",e.name]},s)}))})]})}),(0,d.jsxs)("div",{className:"wrapLine clearfix",style:{marginBottom:"15px"},children:[(0,d.jsx)("div",{className:"col-xs-6",children:(0,d.jsx)("div",{className:"itemWrap clearfix",children:(0,d.jsxs)("span",{className:"price",children:[(0,d.jsx)("span",{className:"title",children:"Preis"}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{children:[s.totalPrice," ",window.currencyValue]})]})})}),(0,d.jsx)("div",{className:"col-xs-6",children:(0,d.jsx)("div",{className:"itemWrap clearfix",children:(0,d.jsxs)("div",{className:"status",children:[(0,d.jsx)("div",{className:r,children:s.status.name}),(0,d.jsx)("div",{className:"status_bar",children:(0,d.jsx)("div",{className:a})})]})})})]})]})}),(0,d.jsx)("div",{className:"col-xs-12",children:(0,d.jsxs)("div",{className:"col-xs-12",children:[(0,d.jsxs)("span",{className:"shortcode",children:["Auftragsnummer: ",s.shortcode]}),(0,d.jsxs)("p",{className:"date",children:["Auftragsdatum: ",s.date]})]})})]})};I.defaultProps={};const _=I,C=e=>{let{data:s}=e;return(0,d.jsxs)("div",{className:"overview_orders_item_basket repair clearfix",children:[!window.isMobile&&(0,d.jsx)(V,{data:s}),window.isMobile&&(0,d.jsx)(_,{data:s})]})};C.defaultProps={};const S=C,L=e=>{let{dataRepair:s,printShippingDocuments:a,msg:r}=e;return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"col-md-12",children:[(0,d.jsx)("div",{className:"header clearfix",children:(0,d.jsxs)("h1",{children:["Reparieren (",s.length,")"]})}),(0,d.jsx)("p",{className:"msgField",children:r}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-md-12 wrapBaskets",children:s.map((function(e,s){return(0,d.jsx)(S,{data:e},s)}))})})]})})};L.defaultProps={};const D=L;class R extends r.Component{constructor(e){super(e),this.state={years:{allYearsVerkaufen:[],allYearsKaufen:[],allYears:[],currentYear:""},data:{dataVerkaufen:[],dataKaufen:{baskets:[],totalPrice:""},dataRepair:[]},messages:{verkaufen:"",kaufen:"",repair:""},currentTypeOrder:"All"},this._getOrdersVerkaufen=this._getOrdersVerkaufen.bind(this),this._getOrdersKaufen=this._getOrdersKaufen.bind(this),this._getOrdersRepair=this._getOrdersRepair.bind(this),this._getYears=this._getYears.bind(this),this.changeYear=this.changeYear.bind(this),this.changeCurrentTypeOrder=this.changeCurrentTypeOrder.bind(this),this.printShippingDocumentsSell=this.printShippingDocumentsSell.bind(this),this.printShippingDocumentsBuy=this.printShippingDocumentsBuy.bind(this),this.acceptOffer=this.acceptOffer.bind(this),this.getData=this.getData.bind(this)}componentWillReceiveProps(e){e.user.isLogin!==this.props.user.isLogin&&!1===e.user.isLogin&&l.mW.push("/")}componentDidMount(){this._getYears()}_getOrdersVerkaufen(e){return document.getElementById("spinner-box-load").style.display="block",n().get("/api/sellOrdersOverview?year=".concat(e))}_getOrdersKaufen(e){return document.getElementById("spinner-box-load").style.display="block",n().get("/api/buyOrdersOverview?year=".concat(e))}_getOrdersRepair(e){return document.getElementById("spinner-box-load").style.display="block",n().get("/api/repairOrdersOverview?year=".concat(e))}async getData(e){let s=this._getOrdersKaufen(e),a=this._getOrdersVerkaufen(e),r=this._getOrdersRepair(e),l=await s,c=await a,n=await r;return{dataVerkaufen:c.data,dataKaufen:l.data,dataRepair:n.data}}_getYears(){document.getElementById("spinner-box-load").style.display="block",n().get("/api/ordersYearsList").then((e=>{let{data:s}=e,a="",r="",l="";document.getElementById("spinner-box-load").style.display="none",s.allYears.length>0?this.getData(s.allYears[0]).then((e=>{document.getElementById("spinner-box-load").style.display="none",this.setState({data:{...this.state.data,dataVerkaufen:e.dataVerkaufen,dataRepair:e.dataRepair,dataKaufen:e.dataKaufen}})})):(r="No data",a="No data",l="No data");let c=[];s.allYears.forEach((e=>c.push({value:e,label:e}))),this.setState({years:{...this.state.years,allYearsVerkaufen:s.sellYears,allYearsKaufen:s.buyYears,allYears:c,currentYear:s.allYears[0]},messages:{...this.state.messages,verkaufen:a,kaufen:r,repair:l}})}))}changeYear(e){let{value:s}=e;this.getData(s).then((e=>{document.getElementById("spinner-box-load").style.display="none",this.setState({data:{...this.state.data,dataVerkaufen:e.dataVerkaufen,dataRepair:e.dataRepair,dataKaufen:e.dataKaufen},years:{...this.state.years,currentYear:s}})}))}changeCurrentTypeOrder(e){let s=e.target.getAttribute("data-typeorder");this.setState({currentTypeOrder:s})}printShippingDocumentsSell(e,s){let a={devices:e,basketPayoutId:s};document.getElementById("spinner-box-load").style.display="block";let r=window.open("//".concat(window.location.host,"/load-pdf"),"_blank");r.onload=function(){let e=r.document.createElement("div");e.className="loadPdf",r.document.body.appendChild(e)},n().post("/api/overviewGeneratePDF",a).then((e=>{document.getElementById("spinner-box-load").style.display="none",r.location=e.data}))}printShippingDocumentsBuy(e){document.getElementById("spinner-box-load").style.display="block";let s=window.open("//".concat(window.location.host,"/load-pdf"),"_blank");s.onload=function(){let e=s.document.createElement("div");e.className="loadPdf",s.document.body.appendChild(e)},n().get("/api/printInvoice?basketShortcode=".concat(e)).then((e=>{document.getElementById("spinner-box-load").style.display="none",s.location=e.data.link}))}acceptOffer(e){document.getElementById("spinner-box-load").style.display="block",n().get("/api/counterOfferAnswer?shortcode=".concat(e,"&answer=1")).then((e=>{document.getElementById("spinner-box-load").style.display="none";let{currentTypeOrder:s,years:a}=this.state;"All"===s?(this._getOrdersVerkaufen(a.currentYear),this._getOrdersKaufen(a.currentYear)):"Sold"===s?this._getOrdersVerkaufen(a.currentYear):this._getOrdersKaufen(a.currentYear)}))}render(){let{years:e,data:s,messages:a,currentTypeOrder:r}=this.state,l=null;return"All"===r&&0===s.dataVerkaufen.length&&0===s.dataKaufen.baskets.length&&0===s.dataRepair.length?l=(0,d.jsx)("p",{className:"text-center",children:"Es wurden bisher noch keine K\xe4ufe / Verk\xe4ufe get\xe4tigt"}):"Sold"===r&&0===s.dataVerkaufen.length?l=(0,d.jsx)("p",{className:"text-center",children:"Es wurden bisher noch keine Verk\xe4ufe get\xe4tigt"}):("Bought"===r&&0===s.dataKaufen.baskets.length||"Repair"===r&&0===s.dataRepair.length)&&(l=(0,d.jsx)("p",{className:"text-center",children:"Es wurden bisher noch keine K\xe4ufe get\xe4tigt"})),(0,d.jsxs)("div",{className:"overviewOrders",children:[(0,d.jsxs)("div",{className:"topRow",children:[(0,d.jsxs)("div",{className:"col-md-9 text-left menuList",children:[(0,d.jsxs)("span",{className:"All"===r?"typeOrder active":"typeOrder",onClick:this.changeCurrentTypeOrder,"data-typeorder":"All",children:["Alle (",s.dataVerkaufen.length+s.dataKaufen.baskets.length+s.dataRepair.length,")"]}),(0,d.jsxs)("span",{className:"Sold"===r?"typeOrder active":"typeOrder",onClick:this.changeCurrentTypeOrder,"data-typeorder":"Sold",children:["Verkaufen (",s.dataVerkaufen.length,")"]}),(0,d.jsxs)("span",{className:"Bought"===r?"typeOrder active":"typeOrder",onClick:this.changeCurrentTypeOrder,"data-typeorder":"Bought",children:["Kaufen (",s.dataKaufen.baskets.length,")"]}),(0,d.jsxs)("span",{className:"Repair"===r?"typeOrder active":"typeOrder",onClick:this.changeCurrentTypeOrder,"data-typeorder":"Repair",children:["Reparieren (",s.dataRepair.length,")"]})]}),(0,d.jsxs)("div",{className:"col-md-3 text-right year",children:[(0,d.jsx)("span",{children:"Jahr"}),(0,d.jsx)(t.ZP,{placeholder:"Ausw\xe4hlen...",value:e.currentYear,name:"changeYear",clearable:!1,options:e.allYears,searchable:!1,onChange:this.changeYear})]})]}),(0,d.jsxs)("div",{children:[s.dataVerkaufen.length>0&&("All"===r||"Sold"===r)&&(0,d.jsx)(N,{printShippingDocuments:this.printShippingDocumentsSell,msg:a.verkaufen,acceptOffer:this.acceptOffer,dataVerkaufen:s.dataVerkaufen}),s.dataKaufen.baskets.length>0&&("All"===r||"Bought"===r)&&(0,d.jsx)(O,{totalPrice:s.dataKaufen.totalPrice,printShippingDocuments:this.printShippingDocumentsBuy,msg:a.kaufen,dataKaufen:s.dataKaufen.baskets}),s.dataRepair.length>0&&("All"===r||"Repair"===r)&&(0,d.jsx)(D,{msg:a.repair,dataRepair:s.dataRepair})]}),(0,d.jsx)("div",{className:"col-md-12",children:l})]})}}R.defaultProps={};const K=(0,i.$j)((function(e){return{user:e.user}}))(R)}}]);
"use strict";(self.webpackChunkassessment=self.webpackChunkassessment||[]).push([[1648],{12595:(s,e,a)=>{a.d(e,{Z:()=>o});var r=a(47313),t=a(46417);const n=s=>{let{error:e,label:a,id:n,name:o,type:l,handleChange:d,successResend:i,resendActivationLink:c,resendActivationEmail:h}=s;const[u,m]=(0,r.useState)({showPassword:!1});return(0,t.jsxs)("div",{className:"form__group",children:[(0,t.jsx)("input",{className:e?"errorInput string optional form__field":"string optional form__field",onChange:d,name:o,maxLength:"255",id:n,placeholder:" ",type:"password"!==l?l:u.showPassword?"text":"password",size:"50"}),"password"===l&&(0,t.jsx)("i",{className:u.showPassword?"eye eye-opened":"eye eye-closed",onClick:()=>m({...u,showPassword:!u.showPassword})}),(0,t.jsx)("label",{className:"string optional form__label",htmlFor:n,children:a}),e&&(0,t.jsxs)("span",{className:"errorText",children:[" ",e,".",c&&(0,t.jsx)("span",{onClick:h,className:"resendActivationLink",children:c})]}),i&&!e&&(0,t.jsx)("span",{className:"success",children:i})]})};n.defaultProps={};const o=n},74657:(s,e,a)=>{a.r(e),a.d(e,{ChangePasswordForm:()=>i,default:()=>c});var r=a(47313),t=a(12595),n=a(31881),o=a.n(n),l=a(78081),d=a(46417);class i extends r.Component{constructor(s){super(s),this.state={errorsList:{oldPassword:null,firstPassword:null,secondPassword:null},msgText:null},this.changePassword=this.changePassword.bind(this),this.handleChange=this.handleChange.bind(this)}handleChange(s){let{name:e,value:a}=s.target,{errorsList:r}=this.state;r[e]=null;/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,32}$/.test(a.trim())?$(s.target).parents(".input.full").find(".statusBarPassword").css({background:"#00cb94"}):$(s.target).parents(".input.full").find(".statusBarPassword").css({background:"#ff0000"}),this.setState({errorsList:r,msgText:null})}changePassword(s){s.preventDefault();let e=new FormData(document.forms.changePasswordForm);document.getElementById("spinner-box-load").style.display="block",o().post("/api/changePassword",e).then((s=>{document.getElementById("spinner-box-load").style.display="none",200===s.status&&([...document.querySelectorAll(".changePasswordForm input")].forEach((s=>s.value="")),this.setState({errorsList:{...this.state.errorsList,oldPassword:null,firstPassword:null,secondPassword:null},msgText:s.data}))})).catch((s=>{document.getElementById("spinner-box-load").style.display="none";let e=s.response.data.errors,{errorsList:a}=this.state;for(let r in e)a[r]=e[r][0];this.setState({errorsList:a})}))}render(){let{errorsList:s,msgText:e}=this.state;return(0,d.jsxs)("div",{className:"changePasswordForm",children:[(0,d.jsx)("p",{style:{color:"green"},children:e}),(0,d.jsxs)("div",{className:"wrapForm",children:[(0,d.jsx)("div",{className:"circle"}),(0,d.jsx)("h3",{className:"title",children:"Passwort \xe4ndern"}),(0,d.jsxs)("form",{name:"changePasswordForm",onSubmit:this.changePassword,children:[(0,d.jsx)("div",{className:"input full",children:(0,d.jsx)(t.Z,{error:s.oldPassword,id:"oldPassword",name:"oldPassword",type:"password",label:"Aktuelles Passwort",handleChange:this.handleChange})}),(0,d.jsxs)("div",{className:"input new-password full",children:[(0,d.jsx)(t.Z,{error:s.firstPassword,id:"firstPassword",name:"firstPassword",type:"password",label:"Neues Passwort",handleChange:this.handleChange}),(0,d.jsx)("div",{className:"statusBarPassword"})]}),(0,d.jsxs)("div",{className:"input full",children:[(0,d.jsx)(t.Z,{error:s.secondPassword,id:"secondPassword",name:"secondPassword",type:"password",label:"Passwort wiederholen",handleChange:this.handleChange}),(0,d.jsx)("div",{className:"statusBarPassword"})]}),(0,d.jsxs)("button",{type:"submit",className:"btn",children:["Passwort \xe4ndern",(0,d.jsx)("span",{children:(0,d.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})]})]})]})}}i.defaultProps={};const c=(0,l.$j)((function(s){return{user:s.user}}))(i)}}]);
/*! For license information please see 5026.cbbd47e0.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkassessment=self.webpackChunkassessment||[]).push([[5026],{23625:(e,t,i)=>{i.r(t),i.d(t,{default:()=>k});var a=i(31881),s=i.n(a),c=i(47313),o=i(53933),r=i(78081),n=i(72231),d=i(72905),l=i(73815),m=i(51426),u=i(91066),h=i(22667),p=i(46897),g=(i(69947),i(7e3)),v=i(5654),f=i(24511),y=i(46417);class b extends c.Component{constructor(e){super(e),this.state={model:[],similarItems:[],upsellingItems:[],specifications:[],additionalSpecifications:{},capacityName:null,deviceStatus:{statusId:null,dateOfBought:null,boughtCurrentUser:!1},activeNavItem:"technical",successAddToBasket:null,recommendProducts:null},this.clickNavItem=this.clickNavItem.bind(this),this.mapAccessories=this.mapAccessories.bind(this),this._increaseCounter=this._increaseCounter.bind(this),this.openSuccessAddToBasket=this.openSuccessAddToBasket.bind(this),this._recommendProducts=this._recommendProducts.bind(this),this.closeSuccessAddToBasket=this.closeSuccessAddToBasket.bind(this),this.addModelToBasket=this.addModelToBasket.bind(this)}componentWillReceiveProps(e){if(e.params.currentModelId!==this.props.params.currentModelId){let{currentModelId:t,device:i}=e.params;i=i.split("-").join(" ");let a={deviceName:i,inventoryId:t};this._getModelData(a,t)}}componentDidMount(){let{currentModelId:e,device:t}=this.props.params;t=t.split("-").join(" ");let i={deviceName:t,inventoryId:e};this._getModelData(i,e),this._increaseCounter(e)}_increaseCounter(e){s().post("/api/increaseCounter",{deviceId:e}).then((e=>{let{data:t}=e})).catch((e=>{}))}_gtag_snippet(e){gtag("event","page_view",{send_to:"AW-827036726",ecomm_prodid:e.shortcode,ecomm_pagetype:"product",ecomm_totalvalue:+e.discountPrice||+e.price,ecomm_category:"Electronics"})}_recommendProducts(e){let{successAddToBasket:t}=this.state;new Promise(((t,i)=>{e?s().get("/api/loadRecommendProducts?modelId="+e).then((e=>{t(e.data.data.length?e.data.data:null)})):t(null)})).then((e=>{e&&null==t&&e.length>0&&this.setState({recommendProducts:e})}))}_getModelData(e,t){document.getElementById("spinner-box-load").style.display="block",m.Z.getModels("/api/models",e).then((e=>{let{data:t}=e,i=t;window.isGoogleConnection&&this._gtag_snippet(i.data[0]),this.setState({model:i.data,capacityName:i.meta.capacityName});let a=i.data,s=JSON.parse(window.localStorage.getItem("gtag"));gtag("event","view_item",{items:[{id:a[0].shortcode,name:a[0].descriptionLong,list_name:"Kaufen",quantity:1,price:a[0].discountPrice||a[0].price,brand:a[0].deviceName,category:s.category||""}]}),(0,u.mW)();var c={ProductName:a[0].descriptionLong,ProductID:a[0].shortcode,Categories:[s.category]||0,ImageURL:a[0].deviceImages.mainImg.src,URL:window.location.href,Brand:a[0].deviceName,Price:a[0].discountPrice||a[0].price,CompareAtPrice:a[0].price};_learnq.push(["track","Viewed Product",c]),_learnq.push(["trackViewedItem",{Title:c.ProductName,ItemId:c.ProductID,Categories:c.Categories,ImageUrl:c.ImageURL,Url:c.URL,Metadata:{Brand:c.Brand,Price:c.Price,CompareAtPrice:c.CompareAtPrice}}]),this._recommendProducts(a[0].modelId)})).catch((e=>{})),s().get("/api/getSpecifications?deviceId=".concat(t)).then((e=>{let{data:t}=e;this.setState({specifications:t.specifications,additionalSpecifications:t.additionalSpecifications})})).catch((e=>{})),s().post("/api/similarItems",{deviceId:t}).then((e=>{let{data:t}=e;this.setState({similarItems:t})})).catch((e=>{})),s().get("/api/checkSoldDevice?deviceShortcode=".concat(t)).then((e=>{let{data:t}=e;this.setState({deviceStatus:{...this.state.deviceStatus,statusId:t.status,dateOfBought:t.date,boughtCurrentUser:t.boughtCurrentUser}})})).catch((e=>{})),s().get("/api/getUpsellingProducts?deviceShortcode=".concat(t)).then((e=>{let{data:t}=e;this.setState({upsellingItems:t.data})})).catch((e=>{}))}clickNavItem(e){let t=e.currentTarget.getAttribute("data-type");this.setState({activeNavItem:t})}mapAccessories(e,t){return(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"fa fa-check-circle-o","aria-hidden":"true"}),e]},t)}getUrlForNavigation(){let e=this.state.model[0].deviceName,t=null;function i(a,s){if(s.submodels){let c=s.submodels.filter((t=>t.name==e));return c.length>0?(t=[...a,c[0].name],!0):(s.submodels.forEach((e=>{e.submodels&&i([...a,e.name],e)})),!1)}}this.props.devices.forEach((e=>i([e.name],e)));let a="";return t&&(a=t.join("/").toLowerCase().replace(/ /g,"-")+"/filter"),"/kaufen/".concat(a)}openSuccessAddToBasket(e,t){this.setState({successAddToBasket:(0,y.jsx)(p.Z,{addModelToBasket:this.addModelToBasket,basketData:this.props.basketData,source:t,model:e,recommendProducts:this.state.recommendProducts,closeSuccessAddToBasket:this.closeSuccessAddToBasket})})}closeSuccessAddToBasket(){this.setState({successAddToBasket:null})}addModelToBasket(e,t){e.stopPropagation(),e.preventDefault();let i=e.target.getAttribute("data-status"),{basketData:a}=this.props,s=null;if(s=t.categoryName||a.every((e=>e.id!=t.id))?[...a,t]:a.filter((e=>e.shortcode!=t.shortcode)),this.props.basketActions.changeBasketData(s),"out"===i){let i=t.criterias.find((e=>"manufacturer"===e.id)).values,a=i.length?i[0].name:"",s=t.categoryName;if(gtag("event","add_to_cart",{items:[{id:t.shortcode,list_name:"Kaufen",quantity:1,price:t.discountPrice||t.price,name:t.descriptionLong||t.model||"",brand:a,category:s}]}),window.isMobile)n.mW.push("/warenkorb");else{const i=t.deviceImages?t.deviceImages.mainImg.src:"/images/design/Product.svg",a=$(e.target).offset();this.props.basketActions.basketAddEffect((0,y.jsx)(h.Z,{startPosition:a,image:i,basketType:"kaufen"})),setTimeout((()=>{this.props.basketActions.basketAddEffect(null)}),2e3)}}}render(){let{model:e,similarItems:t,specifications:i,additionalSpecifications:a,capacityName:s,deviceStatus:c,activeNavItem:r,successAddToBasket:d,upsellingItems:l,recommendProducts:m}=this.state,{device:h}=this.props.params,p=this.props.location.query,b=e[0]&&this.getUrlForNavigation()||"",k=document.getElementById("spinner-box-load"),x=e[0]?"".concat(e[0].descriptionLong,",  ").concat(e[0].capacity,", ").concat(e[0].condition):"",I=e[0]&&e[0].discountPrice?e[0].discountPrice:e[0]?e[0].price:"",w=e[0]?"".concat(e[0].descriptionLong,",  ").concat(e[0].capacity," g\xfcnstig kaufen in ").concat(e[0].placeDescription," f\xfcr ").concat(I," im Zustand ").concat(e[0].condition," inkl. ").concat(e[0].warranty," Garantie."):"";const N=JSON.parse(window.localStorage.getItem("webshopDiscountData"));k&&e[0]&&(k.style.display="none");let j={};if(e[0]){let t=e[0],i="",a=1===t.conditionId||2===t.conditionId?"":"gebraucht, ";i=t.model+", "+a+t.capacity+", "+t.color;let s={};s=1===t.statusId?{availability:"https://schema.org/InStock"}:{availability:"https://schema.org/OutOfStock"};let c={};1===t.conditionId||2===t.conditionId?c={itemCondition:"https://schema.org/NewCondition"}:3!==t.conditionId&&4!==t.conditionId&&5!==t.conditionId||(c={itemCondition:"https://schema.org/UsedCondition"});let o={};o=!1===t.discountPrice?{"@type":"Offer",url:window.location.href,priceCurrency:"CHF",price:t.price}:{"@type":"AggregateOffer",url:window.location.href,priceCurrency:"CHF",lowPrice:t.discountPrice,highPrice:t.price},j={"@context":"http://schema.org/","@type":"Product",name:i,image:t.deviceImages.mainImg.src,description:t.descriptionSeo,brand:t.deviceName,sku:t.shortcode,offers:o},j={...j,...s,...c}}let P=JSON.stringify(j);return(0,y.jsxs)("div",{className:"detail-page",children:[e[0]&&(0,y.jsx)(o.ql,{title:x,meta:[{name:"description",content:w},{property:"og:title",content:x},{property:"og:image",content:e[0].deviceImages.mainImg.src}]}),(0,y.jsx)(o.ql,{children:(0,y.jsx)("script",{type:"application/ld+json",children:P})}),e[0]&&(0,y.jsxs)("div",{className:"detailPage",children:[(0,y.jsx)("div",{className:"infoBlock",children:(0,y.jsxs)("div",{className:"container-fluid",children:[(0,y.jsxs)("div",{className:"row",children:[!window.isMobile&&(0,y.jsx)("div",{className:"col-xs-12",children:(0,y.jsxs)("div",{className:"navigation-row",children:[(0,y.jsx)(n.rU,{to:"/",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/design/house-icon.svg",alt:""})}),(0,y.jsx)(n.rU,{to:b,children:"Liste"}),(0,y.jsx)("span",{children:e[0]&&e[0].model})]})}),!window.isMobile&&1==N.desktop_detail_active&&(0,y.jsxs)("div",{className:"notification-device-detail",children:[(0,y.jsx)("div",{className:"subtract",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/design/subtract.svg"})}),(0,y.jsx)("div",{className:"content",children:(0,y.jsx)("p",{dangerouslySetInnerHTML:{__html:(0,u.y7)(N.desktop_detail_text,"discount-code")}})})]}),window.isMobile&&1==N.mobile_detail_active&&(0,y.jsxs)("div",{className:"notification-device-detail",children:[(0,y.jsx)("div",{className:"subtract",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/design/subtract.svg"})}),(0,y.jsx)("div",{className:"content",children:(0,y.jsx)("p",{dangerouslySetInnerHTML:{__html:(0,u.y7)(N.mobile_detail_text,"discount-code")}})})]}),(0,y.jsx)(g.Z,{currentModel:e,openSuccessAddToBasket:this.openSuccessAddToBasket,deviceStatus:c,capacityName:s,isRemarketingCampaign:p?p.coupon:0,specifications:i,additionalSpecifications:a,upsellingItems:l})]}),(0,y.jsx)("div",{className:"cb"})]})}),t.length>0&&(0,y.jsx)("div",{className:"others-product-block",children:(0,y.jsx)("div",{className:"container-fluid",children:(0,y.jsx)("div",{className:"row",children:(0,y.jsx)(v.Z,{similarItems:t,basketActions:this.props.basketActions,basketData:this.props.basketData,wishlistData:this.props.wishlistData})})})}),!m&&(0,y.jsx)("div",{className:"others-product-block",children:(0,y.jsx)("div",{className:"container-fluid",children:(0,y.jsx)("div",{className:"row",children:(0,y.jsx)(f.y,{})})})}),m&&m.length>0&&(0,y.jsx)("div",{className:"others-product-block",children:(0,y.jsx)("div",{className:"container-fluid",children:(0,y.jsx)("div",{className:"row",children:(0,y.jsx)(f.Z,{recommendProducts:m,basketActions:this.props.basketActions,basketData:this.props.basketData,wishlistData:this.props.wishlistData})})})}),!1,d]})]})}}b.defaultProps={};const k=(0,r.$j)((function(e){return{devices:e.shop.devices,basketData:e.basket.basketData,wishlistData:e.basket.wishlistData}}),(function(e){return{basketActions:(0,d.DE)(l,e)}}))(b)},35990:(e,t,i)=>{i.d(t,{DY:()=>n});var a=i(47313),s=function(){return s=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},s.apply(this,arguments)};var c=function(e){var t=e.animate,i=void 0===t||t,c=e.animateBegin,o=e.backgroundColor,r=void 0===o?"#f5f6f7":o,n=e.backgroundOpacity,d=void 0===n?1:n,l=e.baseUrl,m=void 0===l?"":l,u=e.children,h=e.foregroundColor,p=void 0===h?"#eee":h,g=e.foregroundOpacity,v=void 0===g?1:g,f=e.gradientRatio,y=void 0===f?2:f,b=e.gradientDirection,k=void 0===b?"left-right":b,x=e.uniqueKey,I=e.interval,w=void 0===I?.25:I,N=e.rtl,j=void 0!==N&&N,P=e.speed,S=void 0===P?1.2:P,E=e.style,_=void 0===E?{}:E,C=e.title,A=void 0===C?"Loading...":C,B=e.beforeMask,D=void 0===B?null:B,T=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(i[a[s]]=e[a[s]])}return i}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),O=x||Math.random().toString(36).substring(6),M=O+"-diff",U=O+"-animated-diff",L=O+"-aria",q=j?{transform:"scaleX(-1)"}:null,R="0; "+w+"; 1",Z=S+"s",F="top-bottom"===k?"rotate(90)":void 0;return(0,a.createElement)("svg",s({"aria-labelledby":L,role:"img",style:s(s({},_),q)},T),A?(0,a.createElement)("title",{id:L},A):null,D&&(0,a.isValidElement)(D)?D:null,(0,a.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+m+"#"+M+")",style:{fill:"url("+m+"#"+U+")"}}),(0,a.createElement)("defs",null,(0,a.createElement)("clipPath",{id:M},u),(0,a.createElement)("linearGradient",{id:U,gradientTransform:F},(0,a.createElement)("stop",{offset:"0%",stopColor:r,stopOpacity:d},i&&(0,a.createElement)("animate",{attributeName:"offset",values:-y+"; "+-y+"; 1",keyTimes:R,dur:Z,repeatCount:"indefinite",begin:c})),(0,a.createElement)("stop",{offset:"50%",stopColor:p,stopOpacity:v},i&&(0,a.createElement)("animate",{attributeName:"offset",values:-y/2+"; "+-y/2+"; "+(1+y/2),keyTimes:R,dur:Z,repeatCount:"indefinite",begin:c})),(0,a.createElement)("stop",{offset:"100%",stopColor:r,stopOpacity:d},i&&(0,a.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+y),keyTimes:R,dur:Z,repeatCount:"indefinite",begin:c})))))},o=function(e){return e.children?(0,a.createElement)(c,s({},e)):(0,a.createElement)(r,s({},e))},r=function(e){return(0,a.createElement)(o,s({viewBox:"0 0 476 124"},e),(0,a.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,a.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,a.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},n=function(e){return(0,a.createElement)(o,s({viewBox:"0 0 245 125"},e),(0,a.createElement)("circle",{cx:"10",cy:"20",r:"8"}),(0,a.createElement)("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),(0,a.createElement)("circle",{cx:"10",cy:"50",r:"8"}),(0,a.createElement)("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),(0,a.createElement)("circle",{cx:"10",cy:"80",r:"8"}),(0,a.createElement)("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),(0,a.createElement)("circle",{cx:"10",cy:"110",r:"8"}),(0,a.createElement)("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))}}}]);